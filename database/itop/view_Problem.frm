TYPE=VIEW
query=select distinct `_ticket`.`id` AS `id`,`_ticket`.`operational_status` AS `operational_status`,`_ticket`.`ref` AS `ref`,`_ticket`.`org_id` AS `org_id`,`Organization_org_id_organization`.`name` AS `org_name`,`_ticket`.`caller_id` AS `caller_id`,`Person_caller_id_contact`.`name` AS `caller_name`,`_ticket`.`team_id` AS `team_id`,`Team_team_id_contact`.`email` AS `team_name`,`_ticket`.`agent_id` AS `agent_id`,`Person_agent_id_contact`.`name` AS `agent_name`,`_ticket`.`title` AS `title`,`_ticket`.`description` AS `description`,`_ticket`.`description_format` AS `description_format`,`_ticket`.`start_date` AS `start_date`,`_ticket`.`end_date` AS `end_date`,`_ticket`.`last_update` AS `last_update`,`_ticket`.`close_date` AS `close_date`,`_ticket`.`private_log` AS `private_log`,`_ticket`.`private_log_index` AS `private_log_index`,`_ticket_problem`.`status` AS `status`,`_ticket_problem`.`service_id` AS `service_id`,`Service_service_id_service`.`name` AS `service_name`,`_ticket_problem`.`servicesubcategory_id` AS `servicesubcategory_id`,`ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`name` AS `servicesubcategory_name`,`_ticket_problem`.`product` AS `product`,`_ticket_problem`.`impact` AS `impact`,`_ticket_problem`.`urgency` AS `urgency`,`_ticket_problem`.`priority` AS `priority`,`_ticket_problem`.`related_change_id` AS `related_change_id`,`Change_related_change_id_ticket`.`ref` AS `related_change_ref`,`_ticket_problem`.`assignment_date` AS `assignment_date`,`_ticket_problem`.`resolution_date` AS `resolution_date`,`_ticket`.`finalclass` AS `finalclass`,cast(concat(coalesce(`_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `friendlyname`,cast(concat(coalesce(`Organization_org_id_organization`.`name`,\'\')) as char charset utf8mb4) AS `org_id_friendlyname`,coalesce((`Organization_org_id_organization`.`status` = \'inactive\'),0) AS `org_id_obsolescence_flag`,cast(concat(coalesce(`Person_caller_id_person`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_caller_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `caller_id_friendlyname`,coalesce((`Person_caller_id_contact`.`status` = \'inactive\'),0) AS `caller_id_obsolescence_flag`,cast(concat(coalesce(`Team_team_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `team_id_friendlyname`,coalesce((`Team_team_id_contact`.`status` = \'inactive\'),0) AS `team_id_obsolescence_flag`,cast(concat(coalesce(`Person_agent_id_person`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_agent_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `agent_id_friendlyname`,coalesce((`Person_agent_id_contact`.`status` = \'inactive\'),0) AS `agent_id_obsolescence_flag`,cast(concat(coalesce(`Service_service_id_service`.`name`,\'\')) as char charset utf8mb4) AS `service_id_friendlyname`,cast(concat(coalesce(`ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`name`,\'\')) as char charset utf8mb4) AS `servicesubcategory_id_friendlyname`,cast(concat(coalesce(`Change_related_change_id_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `related_change_id_friendlyname`,`Change_related_change_id_ticket`.`finalclass` AS `related_change_id_finalclass_recall` from (((((`itop`.`ticket` `_ticket` join `itop`.`organization` `Organization_org_id_organization` on((`_ticket`.`org_id` = `Organization_org_id_organization`.`id`))) left join (`itop`.`contact` `Person_caller_id_contact` join `itop`.`person` `Person_caller_id_person` on((`Person_caller_id_contact`.`id` = `Person_caller_id_person`.`id`))) on((`_ticket`.`caller_id` = `Person_caller_id_contact`.`id`))) left join `itop`.`contact` `Team_team_id_contact` on((`_ticket`.`team_id` = `Team_team_id_contact`.`id`))) left join (`itop`.`contact` `Person_agent_id_contact` join `itop`.`person` `Person_agent_id_person` on((`Person_agent_id_contact`.`id` = `Person_agent_id_person`.`id`))) on((`_ticket`.`agent_id` = `Person_agent_id_contact`.`id`))) join (((`itop`.`ticket_problem` `_ticket_problem` left join `itop`.`service` `Service_service_id_service` on((`_ticket_problem`.`service_id` = `Service_service_id_service`.`id`))) left join `itop`.`servicesubcategory` `ServiceSubcategory_servicesubcategory_id_servicesubcategory` on((`_ticket_problem`.`servicesubcategory_id` = `ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`id`))) left join `itop`.`ticket` `Change_related_change_id_ticket` on((`_ticket_problem`.`related_change_id` = `Change_related_change_id_ticket`.`id`))) on((`_ticket`.`id` = `_ticket_problem`.`id`))) where (coalesce((`Person_caller_id_contact`.`finalclass` = \'Person\'),1) and coalesce((`Team_team_id_contact`.`finalclass` = \'Team\'),1) and coalesce((`Person_agent_id_contact`.`finalclass` = \'Person\'),1) and coalesce((`_ticket`.`finalclass` = \'Problem\'),1) and coalesce((`Change_related_change_id_ticket`.`finalclass` in (\'RoutineChange\',\'ApprovedChange\',\'NormalChange\',\'EmergencyChange\',\'Change\')),1))
md5=9d164dd10695a338236f4fe51c88edc5
updatable=0
algorithm=0
definer_user=root
definer_host=%
suid=2
with_check_option=0
timestamp=2019-03-07 12:20:07
create-version=1
source=SELECT DISTINCT `_ticket`.`id` AS `id`, `_ticket`.`operational_status` AS `operational_status`, `_ticket`.`ref` AS `ref`, `_ticket`.`org_id` AS `org_id`, `Organization_org_id_organization`.`name` AS `org_name`, `_ticket`.`caller_id` AS `caller_id`, `Person_caller_id_contact`.`name` AS `caller_name`, `_ticket`.`team_id` AS `team_id`, `Team_team_id_contact`.`email` AS `team_name`, `_ticket`.`agent_id` AS `agent_id`, `Person_agent_id_contact`.`name` AS `agent_name`, `_ticket`.`title` AS `title`, `_ticket`.`description` AS `description`, `_ticket`.`description_format` AS `description_format`, `_ticket`.`start_date` AS `start_date`, `_ticket`.`end_date` AS `end_date`, `_ticket`.`last_update` AS `last_update`, `_ticket`.`close_date` AS `close_date`, `_ticket`.`private_log` AS `private_log`, `_ticket`.`private_log_index` AS `private_log_index`, `_ticket_problem`.`status` AS `status`, `_ticket_problem`.`service_id` AS `service_id`, `Service_service_id_service`.`name` AS `service_name`, `_ticket_problem`.`servicesubcategory_id` AS `servicesubcategory_id`, `ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`name` AS `servicesubcategory_name`, `_ticket_problem`.`product` AS `product`, `_ticket_problem`.`impact` AS `impact`, `_ticket_problem`.`urgency` AS `urgency`, `_ticket_problem`.`priority` AS `priority`, `_ticket_problem`.`related_change_id` AS `related_change_id`, `Change_related_change_id_ticket`.`ref` AS `related_change_ref`, `_ticket_problem`.`assignment_date` AS `assignment_date`, `_ticket_problem`.`resolution_date` AS `resolution_date`, `_ticket`.`finalclass` AS `finalclass`, CAST(CONCAT(COALESCE(`_ticket`.`ref`, \'\')) AS CHAR) AS `friendlyname`, CAST(CONCAT(COALESCE(`Organization_org_id_organization`.`name`, \'\')) AS CHAR) AS `org_id_friendlyname`, COALESCE((`Organization_org_id_organization`.`status` = \'inactive\'), 0) AS `org_id_obsolescence_flag`, CAST(CONCAT(COALESCE(`Person_caller_id_person`.`first_name`, \'\'), COALESCE(\' \', \'\'), COALESCE(`Person_caller_id_contact`.`name`, \'\')) AS CHAR) AS `caller_id_friendlyname`, COALESCE((`Person_caller_id_contact`.`status` = \'inactive\'), 0) AS `caller_id_obsolescence_flag`, CAST(CONCAT(COALESCE(`Team_team_id_contact`.`name`, \'\')) AS CHAR) AS `team_id_friendlyname`, COALESCE((`Team_team_id_contact`.`status` = \'inactive\'), 0) AS `team_id_obsolescence_flag`, CAST(CONCAT(COALESCE(`Person_agent_id_person`.`first_name`, \'\'), COALESCE(\' \', \'\'), COALESCE(`Person_agent_id_contact`.`name`, \'\')) AS CHAR) AS `agent_id_friendlyname`, COALESCE((`Person_agent_id_contact`.`status` = \'inactive\'), 0) AS `agent_id_obsolescence_flag`, CAST(CONCAT(COALESCE(`Service_service_id_service`.`name`, \'\')) AS CHAR) AS `service_id_friendlyname`, CAST(CONCAT(COALESCE(`ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`name`, \'\')) AS CHAR) AS `servicesubcategory_id_friendlyname`, CAST(CONCAT(COALESCE(`Change_related_change_id_ticket`.`ref`, \'\')) AS CHAR) AS `related_change_id_friendlyname`, `Change_related_change_id_ticket`.`finalclass` AS `related_change_id_finalclass_recall` FROM `ticket` AS `_ticket`INNER JOIN `organization` AS `Organization_org_id_organization` ON `_ticket`.`org_id` = `Organization_org_id_organization`.`id`LEFT JOIN (`contact` AS `Person_caller_id_contact` INNER JOIN `person` AS `Person_caller_id_person` ON `Person_caller_id_contact`.`id` = `Person_caller_id_person`.`id`) ON `_ticket`.`caller_id` = `Person_caller_id_contact`.`id`LEFT JOIN `contact` AS `Team_team_id_contact` ON `_ticket`.`team_id` = `Team_team_id_contact`.`id`LEFT JOIN (`contact` AS `Person_agent_id_contact` INNER JOIN `person` AS `Person_agent_id_person` ON `Person_agent_id_contact`.`id` = `Person_agent_id_person`.`id`) ON `_ticket`.`agent_id` = `Person_agent_id_contact`.`id`INNER JOIN (`ticket_problem` AS `_ticket_problem` LEFT JOIN `service` AS `Service_service_id_service` ON `_ticket_problem`.`service_id` = `Service_service_id_service`.`id`LEFT JOIN `servicesubcategory` AS `ServiceSubcategory_servicesubcategory_id_servicesubcategory` ON `_ticket_problem`.`servicesubcategory_id` = `ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`id`LEFT JOIN `ticket` AS `Change_related_change_id_ticket` ON `_ticket_problem`.`related_change_id` = `Change_related_change_id_ticket`.`id`) ON `_ticket`.`id` = `_ticket_problem`.`id` WHERE ((((COALESCE((`Person_caller_id_contact`.`finalclass` IN (\'Person\')), 1) AND COALESCE((`Team_team_id_contact`.`finalclass` IN (\'Team\')), 1)) AND COALESCE((`Person_agent_id_contact`.`finalclass` IN (\'Person\')), 1)) AND COALESCE((`_ticket`.`finalclass` IN (\'Problem\')), 1)) AND COALESCE((`Change_related_change_id_ticket`.`finalclass` IN (\'RoutineChange\', \'ApprovedChange\', \'NormalChange\', \'EmergencyChange\', \'Change\')), 1))
client_cs_name=utf8mb4
connection_cl_name=utf8mb4_unicode_ci
view_body_utf8=select distinct `_ticket`.`id` AS `id`,`_ticket`.`operational_status` AS `operational_status`,`_ticket`.`ref` AS `ref`,`_ticket`.`org_id` AS `org_id`,`Organization_org_id_organization`.`name` AS `org_name`,`_ticket`.`caller_id` AS `caller_id`,`Person_caller_id_contact`.`name` AS `caller_name`,`_ticket`.`team_id` AS `team_id`,`Team_team_id_contact`.`email` AS `team_name`,`_ticket`.`agent_id` AS `agent_id`,`Person_agent_id_contact`.`name` AS `agent_name`,`_ticket`.`title` AS `title`,`_ticket`.`description` AS `description`,`_ticket`.`description_format` AS `description_format`,`_ticket`.`start_date` AS `start_date`,`_ticket`.`end_date` AS `end_date`,`_ticket`.`last_update` AS `last_update`,`_ticket`.`close_date` AS `close_date`,`_ticket`.`private_log` AS `private_log`,`_ticket`.`private_log_index` AS `private_log_index`,`_ticket_problem`.`status` AS `status`,`_ticket_problem`.`service_id` AS `service_id`,`Service_service_id_service`.`name` AS `service_name`,`_ticket_problem`.`servicesubcategory_id` AS `servicesubcategory_id`,`ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`name` AS `servicesubcategory_name`,`_ticket_problem`.`product` AS `product`,`_ticket_problem`.`impact` AS `impact`,`_ticket_problem`.`urgency` AS `urgency`,`_ticket_problem`.`priority` AS `priority`,`_ticket_problem`.`related_change_id` AS `related_change_id`,`Change_related_change_id_ticket`.`ref` AS `related_change_ref`,`_ticket_problem`.`assignment_date` AS `assignment_date`,`_ticket_problem`.`resolution_date` AS `resolution_date`,`_ticket`.`finalclass` AS `finalclass`,cast(concat(coalesce(`_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `friendlyname`,cast(concat(coalesce(`Organization_org_id_organization`.`name`,\'\')) as char charset utf8mb4) AS `org_id_friendlyname`,coalesce((`Organization_org_id_organization`.`status` = \'inactive\'),0) AS `org_id_obsolescence_flag`,cast(concat(coalesce(`Person_caller_id_person`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_caller_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `caller_id_friendlyname`,coalesce((`Person_caller_id_contact`.`status` = \'inactive\'),0) AS `caller_id_obsolescence_flag`,cast(concat(coalesce(`Team_team_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `team_id_friendlyname`,coalesce((`Team_team_id_contact`.`status` = \'inactive\'),0) AS `team_id_obsolescence_flag`,cast(concat(coalesce(`Person_agent_id_person`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_agent_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `agent_id_friendlyname`,coalesce((`Person_agent_id_contact`.`status` = \'inactive\'),0) AS `agent_id_obsolescence_flag`,cast(concat(coalesce(`Service_service_id_service`.`name`,\'\')) as char charset utf8mb4) AS `service_id_friendlyname`,cast(concat(coalesce(`ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`name`,\'\')) as char charset utf8mb4) AS `servicesubcategory_id_friendlyname`,cast(concat(coalesce(`Change_related_change_id_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `related_change_id_friendlyname`,`Change_related_change_id_ticket`.`finalclass` AS `related_change_id_finalclass_recall` from (((((`itop`.`ticket` `_ticket` join `itop`.`organization` `Organization_org_id_organization` on((`_ticket`.`org_id` = `Organization_org_id_organization`.`id`))) left join (`itop`.`contact` `Person_caller_id_contact` join `itop`.`person` `Person_caller_id_person` on((`Person_caller_id_contact`.`id` = `Person_caller_id_person`.`id`))) on((`_ticket`.`caller_id` = `Person_caller_id_contact`.`id`))) left join `itop`.`contact` `Team_team_id_contact` on((`_ticket`.`team_id` = `Team_team_id_contact`.`id`))) left join (`itop`.`contact` `Person_agent_id_contact` join `itop`.`person` `Person_agent_id_person` on((`Person_agent_id_contact`.`id` = `Person_agent_id_person`.`id`))) on((`_ticket`.`agent_id` = `Person_agent_id_contact`.`id`))) join (((`itop`.`ticket_problem` `_ticket_problem` left join `itop`.`service` `Service_service_id_service` on((`_ticket_problem`.`service_id` = `Service_service_id_service`.`id`))) left join `itop`.`servicesubcategory` `ServiceSubcategory_servicesubcategory_id_servicesubcategory` on((`_ticket_problem`.`servicesubcategory_id` = `ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`id`))) left join `itop`.`ticket` `Change_related_change_id_ticket` on((`_ticket_problem`.`related_change_id` = `Change_related_change_id_ticket`.`id`))) on((`_ticket`.`id` = `_ticket_problem`.`id`))) where (coalesce((`Person_caller_id_contact`.`finalclass` = \'Person\'),1) and coalesce((`Team_team_id_contact`.`finalclass` = \'Team\'),1) and coalesce((`Person_agent_id_contact`.`finalclass` = \'Person\'),1) and coalesce((`_ticket`.`finalclass` = \'Problem\'),1) and coalesce((`Change_related_change_id_ticket`.`finalclass` in (\'RoutineChange\',\'ApprovedChange\',\'NormalChange\',\'EmergencyChange\',\'Change\')),1))
