TYPE=VIEW
query=select distinct `_functionalci`.`id` AS `id`,`_functionalci`.`name` AS `name`,`_functionalci`.`description` AS `description`,`_functionalci`.`org_id` AS `org_id`,`Organization_org_id_organization`.`name` AS `organization_name`,`_functionalci`.`business_criticity` AS `business_criticity`,`_functionalci`.`move2production` AS `move2production`,`_virtualdevice`.`status` AS `status`,`_virtualmachine`.`virtualhost_id` AS `virtualhost_id`,`VirtualHost_virtualhost_id_functionalci`.`name` AS `virtualhost_name`,`_virtualmachine`.`osfamily_id` AS `osfamily_id`,`OSFamily_osfamily_id_typology`.`name` AS `osfamily_name`,`_virtualmachine`.`osversion_id` AS `osversion_id`,`OSVersion_osversion_id_typology`.`name` AS `osversion_name`,`_virtualmachine`.`oslicence_id` AS `oslicence_id`,`OSLicence_oslicence_id_licence`.`name` AS `oslicence_name`,`_virtualmachine`.`cpu` AS `cpu`,`_virtualmachine`.`ram` AS `ram`,`_virtualmachine`.`managementip` AS `managementip`,`_functionalci`.`finalclass` AS `finalclass`,cast(concat(coalesce(`_functionalci`.`name`,\'\')) as char charset utf8mb4) AS `friendlyname`,coalesce((`_virtualdevice`.`status` = \'obsolete\'),0) AS `obsolescence_flag`,`_functionalci`.`obsolescence_date` AS `obsolescence_date`,cast(concat(coalesce(`Organization_org_id_organization`.`name`,\'\')) as char charset utf8mb4) AS `org_id_friendlyname`,coalesce((`Organization_org_id_organization`.`status` = \'inactive\'),0) AS `org_id_obsolescence_flag`,cast(concat(coalesce(`VirtualHost_virtualhost_id_functionalci`.`name`,\'\')) as char charset utf8mb4) AS `virtualhost_id_friendlyname`,`VirtualHost_virtualhost_id_functionalci`.`finalclass` AS `virtualhost_id_finalclass_recall`,coalesce((`VirtualHost_virtualhost_id_virtualdevice`.`status` = \'obsolete\'),0) AS `virtualhost_id_obsolescence_flag`,cast(concat(coalesce(`OSFamily_osfamily_id_typology`.`name`,\'\')) as char charset utf8mb4) AS `osfamily_id_friendlyname`,cast(concat(coalesce(`OSVersion_osversion_id_typology`.`name`,\'\')) as char charset utf8mb4) AS `osversion_id_friendlyname`,cast(concat(coalesce(`OSLicence_oslicence_id_licence`.`name`,\'\')) as char charset utf8mb4) AS `oslicence_id_friendlyname`,coalesce(((`OSLicence_oslicence_id_licence`.`perpetual` = \'no\') and (isnull(`OSLicence_oslicence_id_licence`.`end_date`) = 0) and (`OSLicence_oslicence_id_licence`.`end_date` < date_format((now() - interval 15 month),\'%Y-%m-%d 00:00:00\'))),0) AS `oslicence_id_obsolescence_flag` from (((`itop`.`functionalci` `_functionalci` join `itop`.`organization` `Organization_org_id_organization` on((`_functionalci`.`org_id` = `Organization_org_id_organization`.`id`))) join `itop`.`virtualdevice` `_virtualdevice` on((`_functionalci`.`id` = `_virtualdevice`.`id`))) join ((((`itop`.`virtualmachine` `_virtualmachine` join (`itop`.`functionalci` `VirtualHost_virtualhost_id_functionalci` join `itop`.`virtualdevice` `VirtualHost_virtualhost_id_virtualdevice` on((`VirtualHost_virtualhost_id_functionalci`.`id` = `VirtualHost_virtualhost_id_virtualdevice`.`id`))) on((`_virtualmachine`.`virtualhost_id` = `VirtualHost_virtualhost_id_functionalci`.`id`))) left join `itop`.`typology` `OSFamily_osfamily_id_typology` on((`_virtualmachine`.`osfamily_id` = `OSFamily_osfamily_id_typology`.`id`))) left join `itop`.`typology` `OSVersion_osversion_id_typology` on((`_virtualmachine`.`osversion_id` = `OSVersion_osversion_id_typology`.`id`))) left join `itop`.`licence` `OSLicence_oslicence_id_licence` on((`_virtualmachine`.`oslicence_id` = `OSLicence_oslicence_id_licence`.`id`))) on((`_functionalci`.`id` = `_virtualmachine`.`id`))) where (coalesce((`_functionalci`.`finalclass` = \'VirtualMachine\'),1) and coalesce((`VirtualHost_virtualhost_id_functionalci`.`finalclass` in (\'Hypervisor\',\'Farm\',\'VirtualHost\')),1) and coalesce((`OSFamily_osfamily_id_typology`.`finalclass` = \'OSFamily\'),1) and coalesce((`OSVersion_osversion_id_typology`.`finalclass` = \'OSVersion\'),1) and coalesce((`OSLicence_oslicence_id_licence`.`finalclass` = \'OSLicence\'),1))
md5=8e42a6fab70de5fb8c27c61a516b1dba
updatable=0
algorithm=0
definer_user=root
definer_host=%
suid=2
with_check_option=0
timestamp=2019-03-07 12:20:07
create-version=1
source=SELECT DISTINCT `_functionalci`.`id` AS `id`, `_functionalci`.`name` AS `name`, `_functionalci`.`description` AS `description`, `_functionalci`.`org_id` AS `org_id`, `Organization_org_id_organization`.`name` AS `organization_name`, `_functionalci`.`business_criticity` AS `business_criticity`, `_functionalci`.`move2production` AS `move2production`, `_virtualdevice`.`status` AS `status`, `_virtualmachine`.`virtualhost_id` AS `virtualhost_id`, `VirtualHost_virtualhost_id_functionalci`.`name` AS `virtualhost_name`, `_virtualmachine`.`osfamily_id` AS `osfamily_id`, `OSFamily_osfamily_id_typology`.`name` AS `osfamily_name`, `_virtualmachine`.`osversion_id` AS `osversion_id`, `OSVersion_osversion_id_typology`.`name` AS `osversion_name`, `_virtualmachine`.`oslicence_id` AS `oslicence_id`, `OSLicence_oslicence_id_licence`.`name` AS `oslicence_name`, `_virtualmachine`.`cpu` AS `cpu`, `_virtualmachine`.`ram` AS `ram`, `_virtualmachine`.`managementip` AS `managementip`, `_functionalci`.`finalclass` AS `finalclass`, CAST(CONCAT(COALESCE(`_functionalci`.`name`, \'\')) AS CHAR) AS `friendlyname`, COALESCE((`_virtualdevice`.`status` = \'obsolete\'), 0) AS `obsolescence_flag`, `_functionalci`.`obsolescence_date` AS `obsolescence_date`, CAST(CONCAT(COALESCE(`Organization_org_id_organization`.`name`, \'\')) AS CHAR) AS `org_id_friendlyname`, COALESCE((`Organization_org_id_organization`.`status` = \'inactive\'), 0) AS `org_id_obsolescence_flag`, CAST(CONCAT(COALESCE(`VirtualHost_virtualhost_id_functionalci`.`name`, \'\')) AS CHAR) AS `virtualhost_id_friendlyname`, `VirtualHost_virtualhost_id_functionalci`.`finalclass` AS `virtualhost_id_finalclass_recall`, COALESCE((`VirtualHost_virtualhost_id_virtualdevice`.`status` = \'obsolete\'), 0) AS `virtualhost_id_obsolescence_flag`, CAST(CONCAT(COALESCE(`OSFamily_osfamily_id_typology`.`name`, \'\')) AS CHAR) AS `osfamily_id_friendlyname`, CAST(CONCAT(COALESCE(`OSVersion_osversion_id_typology`.`name`, \'\')) AS CHAR) AS `osversion_id_friendlyname`, CAST(CONCAT(COALESCE(`OSLicence_oslicence_id_licence`.`name`, \'\')) AS CHAR) AS `oslicence_id_friendlyname`, COALESCE((((`OSLicence_oslicence_id_licence`.`perpetual` = \'no\') AND (ISNULL(`OSLicence_oslicence_id_licence`.`end_date`) = 0)) AND (`OSLicence_oslicence_id_licence`.`end_date` < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 15 MONTH), \'%Y-%m-%d 00:00:00\'))), 0) AS `oslicence_id_obsolescence_flag` FROM `functionalci` AS `_functionalci`INNER JOIN `organization` AS `Organization_org_id_organization` ON `_functionalci`.`org_id` = `Organization_org_id_organization`.`id`INNER JOIN `virtualdevice` AS `_virtualdevice` ON `_functionalci`.`id` = `_virtualdevice`.`id`INNER JOIN (`virtualmachine` AS `_virtualmachine` INNER JOIN (`functionalci` AS `VirtualHost_virtualhost_id_functionalci` INNER JOIN `virtualdevice` AS `VirtualHost_virtualhost_id_virtualdevice` ON `VirtualHost_virtualhost_id_functionalci`.`id` = `VirtualHost_virtualhost_id_virtualdevice`.`id`) ON `_virtualmachine`.`virtualhost_id` = `VirtualHost_virtualhost_id_functionalci`.`id`LEFT JOIN `typology` AS `OSFamily_osfamily_id_typology` ON `_virtualmachine`.`osfamily_id` = `OSFamily_osfamily_id_typology`.`id`LEFT JOIN `typology` AS `OSVersion_osversion_id_typology` ON `_virtualmachine`.`osversion_id` = `OSVersion_osversion_id_typology`.`id`LEFT JOIN `licence` AS `OSLicence_oslicence_id_licence` ON `_virtualmachine`.`oslicence_id` = `OSLicence_oslicence_id_licence`.`id`) ON `_functionalci`.`id` = `_virtualmachine`.`id` WHERE ((((COALESCE((`_functionalci`.`finalclass` IN (\'VirtualMachine\')), 1) AND COALESCE((`VirtualHost_virtualhost_id_functionalci`.`finalclass` IN (\'Hypervisor\', \'Farm\', \'VirtualHost\')), 1)) AND COALESCE((`OSFamily_osfamily_id_typology`.`finalclass` IN (\'OSFamily\')), 1)) AND COALESCE((`OSVersion_osversion_id_typology`.`finalclass` IN (\'OSVersion\')), 1)) AND COALESCE((`OSLicence_oslicence_id_licence`.`finalclass` IN (\'OSLicence\')), 1))
client_cs_name=utf8mb4
connection_cl_name=utf8mb4_unicode_ci
view_body_utf8=select distinct `_functionalci`.`id` AS `id`,`_functionalci`.`name` AS `name`,`_functionalci`.`description` AS `description`,`_functionalci`.`org_id` AS `org_id`,`Organization_org_id_organization`.`name` AS `organization_name`,`_functionalci`.`business_criticity` AS `business_criticity`,`_functionalci`.`move2production` AS `move2production`,`_virtualdevice`.`status` AS `status`,`_virtualmachine`.`virtualhost_id` AS `virtualhost_id`,`VirtualHost_virtualhost_id_functionalci`.`name` AS `virtualhost_name`,`_virtualmachine`.`osfamily_id` AS `osfamily_id`,`OSFamily_osfamily_id_typology`.`name` AS `osfamily_name`,`_virtualmachine`.`osversion_id` AS `osversion_id`,`OSVersion_osversion_id_typology`.`name` AS `osversion_name`,`_virtualmachine`.`oslicence_id` AS `oslicence_id`,`OSLicence_oslicence_id_licence`.`name` AS `oslicence_name`,`_virtualmachine`.`cpu` AS `cpu`,`_virtualmachine`.`ram` AS `ram`,`_virtualmachine`.`managementip` AS `managementip`,`_functionalci`.`finalclass` AS `finalclass`,cast(concat(coalesce(`_functionalci`.`name`,\'\')) as char charset utf8mb4) AS `friendlyname`,coalesce((`_virtualdevice`.`status` = \'obsolete\'),0) AS `obsolescence_flag`,`_functionalci`.`obsolescence_date` AS `obsolescence_date`,cast(concat(coalesce(`Organization_org_id_organization`.`name`,\'\')) as char charset utf8mb4) AS `org_id_friendlyname`,coalesce((`Organization_org_id_organization`.`status` = \'inactive\'),0) AS `org_id_obsolescence_flag`,cast(concat(coalesce(`VirtualHost_virtualhost_id_functionalci`.`name`,\'\')) as char charset utf8mb4) AS `virtualhost_id_friendlyname`,`VirtualHost_virtualhost_id_functionalci`.`finalclass` AS `virtualhost_id_finalclass_recall`,coalesce((`VirtualHost_virtualhost_id_virtualdevice`.`status` = \'obsolete\'),0) AS `virtualhost_id_obsolescence_flag`,cast(concat(coalesce(`OSFamily_osfamily_id_typology`.`name`,\'\')) as char charset utf8mb4) AS `osfamily_id_friendlyname`,cast(concat(coalesce(`OSVersion_osversion_id_typology`.`name`,\'\')) as char charset utf8mb4) AS `osversion_id_friendlyname`,cast(concat(coalesce(`OSLicence_oslicence_id_licence`.`name`,\'\')) as char charset utf8mb4) AS `oslicence_id_friendlyname`,coalesce(((`OSLicence_oslicence_id_licence`.`perpetual` = \'no\') and (isnull(`OSLicence_oslicence_id_licence`.`end_date`) = 0) and (`OSLicence_oslicence_id_licence`.`end_date` < date_format((now() - interval 15 month),\'%Y-%m-%d 00:00:00\'))),0) AS `oslicence_id_obsolescence_flag` from (((`itop`.`functionalci` `_functionalci` join `itop`.`organization` `Organization_org_id_organization` on((`_functionalci`.`org_id` = `Organization_org_id_organization`.`id`))) join `itop`.`virtualdevice` `_virtualdevice` on((`_functionalci`.`id` = `_virtualdevice`.`id`))) join ((((`itop`.`virtualmachine` `_virtualmachine` join (`itop`.`functionalci` `VirtualHost_virtualhost_id_functionalci` join `itop`.`virtualdevice` `VirtualHost_virtualhost_id_virtualdevice` on((`VirtualHost_virtualhost_id_functionalci`.`id` = `VirtualHost_virtualhost_id_virtualdevice`.`id`))) on((`_virtualmachine`.`virtualhost_id` = `VirtualHost_virtualhost_id_functionalci`.`id`))) left join `itop`.`typology` `OSFamily_osfamily_id_typology` on((`_virtualmachine`.`osfamily_id` = `OSFamily_osfamily_id_typology`.`id`))) left join `itop`.`typology` `OSVersion_osversion_id_typology` on((`_virtualmachine`.`osversion_id` = `OSVersion_osversion_id_typology`.`id`))) left join `itop`.`licence` `OSLicence_oslicence_id_licence` on((`_virtualmachine`.`oslicence_id` = `OSLicence_oslicence_id_licence`.`id`))) on((`_functionalci`.`id` = `_virtualmachine`.`id`))) where (coalesce((`_functionalci`.`finalclass` = \'VirtualMachine\'),1) and coalesce((`VirtualHost_virtualhost_id_functionalci`.`finalclass` in (\'Hypervisor\',\'Farm\',\'VirtualHost\')),1) and coalesce((`OSFamily_osfamily_id_typology`.`finalclass` = \'OSFamily\'),1) and coalesce((`OSVersion_osversion_id_typology`.`finalclass` = \'OSVersion\'),1) and coalesce((`OSLicence_oslicence_id_licence`.`finalclass` = \'OSLicence\'),1))
