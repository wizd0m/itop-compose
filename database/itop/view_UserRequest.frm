TYPE=VIEW
query=select distinct `_ticket`.`id` AS `id`,`_ticket`.`operational_status` AS `operational_status`,`_ticket`.`ref` AS `ref`,`_ticket`.`org_id` AS `org_id`,`Organization_org_id_organization`.`name` AS `org_name`,`_ticket`.`caller_id` AS `caller_id`,`Person_caller_id_contact`.`name` AS `caller_name`,`_ticket`.`team_id` AS `team_id`,`Team_team_id_contact`.`email` AS `team_name`,`_ticket`.`agent_id` AS `agent_id`,`Person_agent_id_contact`.`name` AS `agent_name`,`_ticket`.`title` AS `title`,`_ticket`.`description` AS `description`,`_ticket`.`description_format` AS `description_format`,`_ticket`.`start_date` AS `start_date`,`_ticket`.`end_date` AS `end_date`,`_ticket`.`last_update` AS `last_update`,`_ticket`.`close_date` AS `close_date`,`_ticket`.`private_log` AS `private_log`,`_ticket`.`private_log_index` AS `private_log_index`,`_ticket_request`.`status` AS `status`,`_ticket_request`.`request_type` AS `request_type`,`_ticket_request`.`impact` AS `impact`,`_ticket_request`.`priority` AS `priority`,`_ticket_request`.`urgency` AS `urgency`,`_ticket_request`.`origin` AS `origin`,`_ticket_request`.`approver_id` AS `approver_id`,`Person_approver_id_contact`.`email` AS `approver_email`,`_ticket_request`.`service_id` AS `service_id`,`Service_service_id_service`.`name` AS `service_name`,`_ticket_request`.`servicesubcategory_id` AS `servicesubcategory_id`,`ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`name` AS `servicesubcategory_name`,`_ticket_request`.`escalation_flag` AS `escalation_flag`,`_ticket_request`.`escalation_reason` AS `escalation_reason`,`_ticket_request`.`assignment_date` AS `assignment_date`,`_ticket_request`.`resolution_date` AS `resolution_date`,`_ticket_request`.`last_pending_date` AS `last_pending_date`,`_ticket_request`.`cumulatedpending_timespent` AS `cumulatedpending`,`_ticket_request`.`cumulatedpending_started` AS `cumulatedpending_started`,`_ticket_request`.`cumulatedpending_laststart` AS `cumulatedpending_laststart`,`_ticket_request`.`cumulatedpending_stopped` AS `cumulatedpending_stopped`,`_ticket_request`.`tto_timespent` AS `tto`,`_ticket_request`.`tto_started` AS `tto_started`,`_ticket_request`.`tto_laststart` AS `tto_laststart`,`_ticket_request`.`tto_stopped` AS `tto_stopped`,`_ticket_request`.`tto_75_deadline` AS `tto_75_deadline`,`_ticket_request`.`tto_75_passed` AS `tto_75_passed`,`_ticket_request`.`tto_75_triggered` AS `tto_75_triggered`,`_ticket_request`.`tto_75_overrun` AS `tto_75_overrun`,`_ticket_request`.`tto_100_deadline` AS `tto_100_deadline`,`_ticket_request`.`tto_100_passed` AS `tto_100_passed`,`_ticket_request`.`tto_100_triggered` AS `tto_100_triggered`,`_ticket_request`.`tto_100_overrun` AS `tto_100_overrun`,`_ticket_request`.`ttr_timespent` AS `ttr`,`_ticket_request`.`ttr_started` AS `ttr_started`,`_ticket_request`.`ttr_laststart` AS `ttr_laststart`,`_ticket_request`.`ttr_stopped` AS `ttr_stopped`,`_ticket_request`.`ttr_75_deadline` AS `ttr_75_deadline`,`_ticket_request`.`ttr_75_passed` AS `ttr_75_passed`,`_ticket_request`.`ttr_75_triggered` AS `ttr_75_triggered`,`_ticket_request`.`ttr_75_overrun` AS `ttr_75_overrun`,`_ticket_request`.`ttr_100_deadline` AS `ttr_100_deadline`,`_ticket_request`.`ttr_100_passed` AS `ttr_100_passed`,`_ticket_request`.`ttr_100_triggered` AS `ttr_100_triggered`,`_ticket_request`.`ttr_100_overrun` AS `ttr_100_overrun`,`_ticket_request`.`tto_100_deadline` AS `tto_escalation_deadline`,`_ticket_request`.`tto_100_passed` AS `sla_tto_passed`,`_ticket_request`.`tto_100_overrun` AS `sla_tto_over`,`_ticket_request`.`ttr_100_deadline` AS `ttr_escalation_deadline`,`_ticket_request`.`ttr_100_passed` AS `sla_ttr_passed`,`_ticket_request`.`ttr_100_overrun` AS `sla_ttr_over`,`_ticket_request`.`time_spent` AS `time_spent`,`_ticket_request`.`resolution_code` AS `resolution_code`,`_ticket_request`.`solution` AS `solution`,`_ticket_request`.`pending_reason` AS `pending_reason`,`_ticket_request`.`parent_request_id` AS `parent_request_id`,`UserRequest_parent_request_id_ticket`.`ref` AS `parent_request_ref`,`_ticket_request`.`parent_incident_id` AS `parent_incident_id`,`Incident_parent_incident_id_ticket`.`ref` AS `parent_incident_ref`,`_ticket_request`.`parent_problem_id` AS `parent_problem_id`,`Problem_parent_problem_id_ticket`.`ref` AS `parent_problem_ref`,`_ticket_request`.`parent_change_id` AS `parent_change_id`,`Change_parent_change_id_ticket`.`ref` AS `parent_change_ref`,`_ticket_request`.`public_log` AS `public_log`,`_ticket_request`.`public_log_index` AS `public_log_index`,`_ticket_request`.`user_satisfaction` AS `user_satisfaction`,`_ticket_request`.`user_commment` AS `user_comment`,`_ticket`.`finalclass` AS `finalclass`,cast(concat(coalesce(`_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `friendlyname`,cast(concat(coalesce(`Organization_org_id_organization`.`name`,\'\')) as char charset utf8mb4) AS `org_id_friendlyname`,coalesce((`Organization_org_id_organization`.`status` = \'inactive\'),0) AS `org_id_obsolescence_flag`,cast(concat(coalesce(`Person_caller_id_person`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_caller_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `caller_id_friendlyname`,coalesce((`Person_caller_id_contact`.`status` = \'inactive\'),0) AS `caller_id_obsolescence_flag`,cast(concat(coalesce(`Team_team_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `team_id_friendlyname`,coalesce((`Team_team_id_contact`.`status` = \'inactive\'),0) AS `team_id_obsolescence_flag`,cast(concat(coalesce(`Person_agent_id_person`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_agent_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `agent_id_friendlyname`,coalesce((`Person_agent_id_contact`.`status` = \'inactive\'),0) AS `agent_id_obsolescence_flag`,cast(concat(coalesce(`Person_approver_id_person`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_approver_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `approver_id_friendlyname`,coalesce((`Person_approver_id_contact`.`status` = \'inactive\'),0) AS `approver_id_obsolescence_flag`,cast(concat(coalesce(`Service_service_id_service`.`name`,\'\')) as char charset utf8mb4) AS `service_id_friendlyname`,cast(concat(coalesce(`ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`name`,\'\')) as char charset utf8mb4) AS `servicesubcategory_id_friendlyname`,cast(concat(coalesce(`UserRequest_parent_request_id_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_request_id_friendlyname`,cast(concat(coalesce(`Incident_parent_incident_id_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_incident_id_friendlyname`,cast(concat(coalesce(`Problem_parent_problem_id_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_problem_id_friendlyname`,cast(concat(coalesce(`Change_parent_change_id_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_change_id_friendlyname`,`Change_parent_change_id_ticket`.`finalclass` AS `parent_change_id_finalclass_recall` from (((((`itop`.`ticket` `_ticket` join `itop`.`organization` `Organization_org_id_organization` on((`_ticket`.`org_id` = `Organization_org_id_organization`.`id`))) left join (`itop`.`contact` `Person_caller_id_contact` join `itop`.`person` `Person_caller_id_person` on((`Person_caller_id_contact`.`id` = `Person_caller_id_person`.`id`))) on((`_ticket`.`caller_id` = `Person_caller_id_contact`.`id`))) left join `itop`.`contact` `Team_team_id_contact` on((`_ticket`.`team_id` = `Team_team_id_contact`.`id`))) left join (`itop`.`contact` `Person_agent_id_contact` join `itop`.`person` `Person_agent_id_person` on((`Person_agent_id_contact`.`id` = `Person_agent_id_person`.`id`))) on((`_ticket`.`agent_id` = `Person_agent_id_contact`.`id`))) join (((((((`itop`.`ticket_request` `_ticket_request` left join (`itop`.`contact` `Person_approver_id_contact` join `itop`.`person` `Person_approver_id_person` on((`Person_approver_id_contact`.`id` = `Person_approver_id_person`.`id`))) on((`_ticket_request`.`approver_id` = `Person_approver_id_contact`.`id`))) left join `itop`.`service` `Service_service_id_service` on((`_ticket_request`.`service_id` = `Service_service_id_service`.`id`))) left join `itop`.`servicesubcategory` `ServiceSubcategory_servicesubcategory_id_servicesubcategory` on((`_ticket_request`.`servicesubcategory_id` = `ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`id`))) left join `itop`.`ticket` `UserRequest_parent_request_id_ticket` on((`_ticket_request`.`parent_request_id` = `UserRequest_parent_request_id_ticket`.`id`))) left join `itop`.`ticket` `Incident_parent_incident_id_ticket` on((`_ticket_request`.`parent_incident_id` = `Incident_parent_incident_id_ticket`.`id`))) left join `itop`.`ticket` `Problem_parent_problem_id_ticket` on((`_ticket_request`.`parent_problem_id` = `Problem_parent_problem_id_ticket`.`id`))) left join `itop`.`ticket` `Change_parent_change_id_ticket` on((`_ticket_request`.`parent_change_id` = `Change_parent_change_id_ticket`.`id`))) on((`_ticket`.`id` = `_ticket_request`.`id`))) where (coalesce((`Person_caller_id_contact`.`finalclass` = \'Person\'),1) and coalesce((`Team_team_id_contact`.`finalclass` = \'Team\'),1) and coalesce((`Person_agent_id_contact`.`finalclass` = \'Person\'),1) and coalesce((`_ticket`.`finalclass` = \'UserRequest\'),1) and coalesce((`Person_approver_id_contact`.`finalclass` = \'Person\'),1) and coalesce((`UserRequest_parent_request_id_ticket`.`finalclass` = \'UserRequest\'),1) and coalesce((`Incident_parent_incident_id_ticket`.`finalclass` = \'Incident\'),1) and coalesce((`Problem_parent_problem_id_ticket`.`finalclass` = \'Problem\'),1) and coalesce((`Change_parent_change_id_ticket`.`finalclass` in (\'RoutineChange\',\'ApprovedChange\',\'NormalChange\',\'EmergencyChange\',\'Change\')),1))
md5=b12f860b42e41148dcfbe16a2fb8cd04
updatable=0
algorithm=0
definer_user=root
definer_host=%
suid=2
with_check_option=0
timestamp=2019-03-07 12:20:07
create-version=1
source=SELECT DISTINCT `_ticket`.`id` AS `id`, `_ticket`.`operational_status` AS `operational_status`, `_ticket`.`ref` AS `ref`, `_ticket`.`org_id` AS `org_id`, `Organization_org_id_organization`.`name` AS `org_name`, `_ticket`.`caller_id` AS `caller_id`, `Person_caller_id_contact`.`name` AS `caller_name`, `_ticket`.`team_id` AS `team_id`, `Team_team_id_contact`.`email` AS `team_name`, `_ticket`.`agent_id` AS `agent_id`, `Person_agent_id_contact`.`name` AS `agent_name`, `_ticket`.`title` AS `title`, `_ticket`.`description` AS `description`, `_ticket`.`description_format` AS `description_format`, `_ticket`.`start_date` AS `start_date`, `_ticket`.`end_date` AS `end_date`, `_ticket`.`last_update` AS `last_update`, `_ticket`.`close_date` AS `close_date`, `_ticket`.`private_log` AS `private_log`, `_ticket`.`private_log_index` AS `private_log_index`, `_ticket_request`.`status` AS `status`, `_ticket_request`.`request_type` AS `request_type`, `_ticket_request`.`impact` AS `impact`, `_ticket_request`.`priority` AS `priority`, `_ticket_request`.`urgency` AS `urgency`, `_ticket_request`.`origin` AS `origin`, `_ticket_request`.`approver_id` AS `approver_id`, `Person_approver_id_contact`.`email` AS `approver_email`, `_ticket_request`.`service_id` AS `service_id`, `Service_service_id_service`.`name` AS `service_name`, `_ticket_request`.`servicesubcategory_id` AS `servicesubcategory_id`, `ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`name` AS `servicesubcategory_name`, `_ticket_request`.`escalation_flag` AS `escalation_flag`, `_ticket_request`.`escalation_reason` AS `escalation_reason`, `_ticket_request`.`assignment_date` AS `assignment_date`, `_ticket_request`.`resolution_date` AS `resolution_date`, `_ticket_request`.`last_pending_date` AS `last_pending_date`, `_ticket_request`.`cumulatedpending_timespent` AS `cumulatedpending`, `_ticket_request`.`cumulatedpending_started` AS `cumulatedpending_started`, `_ticket_request`.`cumulatedpending_laststart` AS `cumulatedpending_laststart`, `_ticket_request`.`cumulatedpending_stopped` AS `cumulatedpending_stopped`, `_ticket_request`.`tto_timespent` AS `tto`, `_ticket_request`.`tto_started` AS `tto_started`, `_ticket_request`.`tto_laststart` AS `tto_laststart`, `_ticket_request`.`tto_stopped` AS `tto_stopped`, `_ticket_request`.`tto_75_deadline` AS `tto_75_deadline`, `_ticket_request`.`tto_75_passed` AS `tto_75_passed`, `_ticket_request`.`tto_75_triggered` AS `tto_75_triggered`, `_ticket_request`.`tto_75_overrun` AS `tto_75_overrun`, `_ticket_request`.`tto_100_deadline` AS `tto_100_deadline`, `_ticket_request`.`tto_100_passed` AS `tto_100_passed`, `_ticket_request`.`tto_100_triggered` AS `tto_100_triggered`, `_ticket_request`.`tto_100_overrun` AS `tto_100_overrun`, `_ticket_request`.`ttr_timespent` AS `ttr`, `_ticket_request`.`ttr_started` AS `ttr_started`, `_ticket_request`.`ttr_laststart` AS `ttr_laststart`, `_ticket_request`.`ttr_stopped` AS `ttr_stopped`, `_ticket_request`.`ttr_75_deadline` AS `ttr_75_deadline`, `_ticket_request`.`ttr_75_passed` AS `ttr_75_passed`, `_ticket_request`.`ttr_75_triggered` AS `ttr_75_triggered`, `_ticket_request`.`ttr_75_overrun` AS `ttr_75_overrun`, `_ticket_request`.`ttr_100_deadline` AS `ttr_100_deadline`, `_ticket_request`.`ttr_100_passed` AS `ttr_100_passed`, `_ticket_request`.`ttr_100_triggered` AS `ttr_100_triggered`, `_ticket_request`.`ttr_100_overrun` AS `ttr_100_overrun`, `_ticket_request`.`tto_100_deadline` AS `tto_escalation_deadline`, `_ticket_request`.`tto_100_passed` AS `sla_tto_passed`, `_ticket_request`.`tto_100_overrun` AS `sla_tto_over`, `_ticket_request`.`ttr_100_deadline` AS `ttr_escalation_deadline`, `_ticket_request`.`ttr_100_passed` AS `sla_ttr_passed`, `_ticket_request`.`ttr_100_overrun` AS `sla_ttr_over`, `_ticket_request`.`time_spent` AS `time_spent`, `_ticket_request`.`resolution_code` AS `resolution_code`, `_ticket_request`.`solution` AS `solution`, `_ticket_request`.`pending_reason` AS `pending_reason`, `_ticket_request`.`parent_request_id` AS `parent_request_id`, `UserRequest_parent_request_id_ticket`.`ref` AS `parent_request_ref`, `_ticket_request`.`parent_incident_id` AS `parent_incident_id`, `Incident_parent_incident_id_ticket`.`ref` AS `parent_incident_ref`, `_ticket_request`.`parent_problem_id` AS `parent_problem_id`, `Problem_parent_problem_id_ticket`.`ref` AS `parent_problem_ref`, `_ticket_request`.`parent_change_id` AS `parent_change_id`, `Change_parent_change_id_ticket`.`ref` AS `parent_change_ref`, `_ticket_request`.`public_log` AS `public_log`, `_ticket_request`.`public_log_index` AS `public_log_index`, `_ticket_request`.`user_satisfaction` AS `user_satisfaction`, `_ticket_request`.`user_commment` AS `user_comment`, `_ticket`.`finalclass` AS `finalclass`, CAST(CONCAT(COALESCE(`_ticket`.`ref`, \'\')) AS CHAR) AS `friendlyname`, CAST(CONCAT(COALESCE(`Organization_org_id_organization`.`name`, \'\')) AS CHAR) AS `org_id_friendlyname`, COALESCE((`Organization_org_id_organization`.`status` = \'inactive\'), 0) AS `org_id_obsolescence_flag`, CAST(CONCAT(COALESCE(`Person_caller_id_person`.`first_name`, \'\'), COALESCE(\' \', \'\'), COALESCE(`Person_caller_id_contact`.`name`, \'\')) AS CHAR) AS `caller_id_friendlyname`, COALESCE((`Person_caller_id_contact`.`status` = \'inactive\'), 0) AS `caller_id_obsolescence_flag`, CAST(CONCAT(COALESCE(`Team_team_id_contact`.`name`, \'\')) AS CHAR) AS `team_id_friendlyname`, COALESCE((`Team_team_id_contact`.`status` = \'inactive\'), 0) AS `team_id_obsolescence_flag`, CAST(CONCAT(COALESCE(`Person_agent_id_person`.`first_name`, \'\'), COALESCE(\' \', \'\'), COALESCE(`Person_agent_id_contact`.`name`, \'\')) AS CHAR) AS `agent_id_friendlyname`, COALESCE((`Person_agent_id_contact`.`status` = \'inactive\'), 0) AS `agent_id_obsolescence_flag`, CAST(CONCAT(COALESCE(`Person_approver_id_person`.`first_name`, \'\'), COALESCE(\' \', \'\'), COALESCE(`Person_approver_id_contact`.`name`, \'\')) AS CHAR) AS `approver_id_friendlyname`, COALESCE((`Person_approver_id_contact`.`status` = \'inactive\'), 0) AS `approver_id_obsolescence_flag`, CAST(CONCAT(COALESCE(`Service_service_id_service`.`name`, \'\')) AS CHAR) AS `service_id_friendlyname`, CAST(CONCAT(COALESCE(`ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`name`, \'\')) AS CHAR) AS `servicesubcategory_id_friendlyname`, CAST(CONCAT(COALESCE(`UserRequest_parent_request_id_ticket`.`ref`, \'\')) AS CHAR) AS `parent_request_id_friendlyname`, CAST(CONCAT(COALESCE(`Incident_parent_incident_id_ticket`.`ref`, \'\')) AS CHAR) AS `parent_incident_id_friendlyname`, CAST(CONCAT(COALESCE(`Problem_parent_problem_id_ticket`.`ref`, \'\')) AS CHAR) AS `parent_problem_id_friendlyname`, CAST(CONCAT(COALESCE(`Change_parent_change_id_ticket`.`ref`, \'\')) AS CHAR) AS `parent_change_id_friendlyname`, `Change_parent_change_id_ticket`.`finalclass` AS `parent_change_id_finalclass_recall` FROM `ticket` AS `_ticket`INNER JOIN `organization` AS `Organization_org_id_organization` ON `_ticket`.`org_id` = `Organization_org_id_organization`.`id`LEFT JOIN (`contact` AS `Person_caller_id_contact` INNER JOIN `person` AS `Person_caller_id_person` ON `Person_caller_id_contact`.`id` = `Person_caller_id_person`.`id`) ON `_ticket`.`caller_id` = `Person_caller_id_contact`.`id`LEFT JOIN `contact` AS `Team_team_id_contact` ON `_ticket`.`team_id` = `Team_team_id_contact`.`id`LEFT JOIN (`contact` AS `Person_agent_id_contact` INNER JOIN `person` AS `Person_agent_id_person` ON `Person_agent_id_contact`.`id` = `Person_agent_id_person`.`id`) ON `_ticket`.`agent_id` = `Person_agent_id_contact`.`id`INNER JOIN (`ticket_request` AS `_ticket_request` LEFT JOIN (`contact` AS `Person_approver_id_contact` INNER JOIN `person` AS `Person_approver_id_person` ON `Person_approver_id_contact`.`id` = `Person_approver_id_person`.`id`) ON `_ticket_request`.`approver_id` = `Person_approver_id_contact`.`id`LEFT JOIN `service` AS `Service_service_id_service` ON `_ticket_request`.`service_id` = `Service_service_id_service`.`id`LEFT JOIN `servicesubcategory` AS `ServiceSubcategory_servicesubcategory_id_servicesubcategory` ON `_ticket_request`.`servicesubcategory_id` = `ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`id`LEFT JOIN `ticket` AS `UserRequest_parent_request_id_ticket` ON `_ticket_request`.`parent_request_id` = `UserRequest_parent_request_id_ticket`.`id`LEFT JOIN `ticket` AS `Incident_parent_incident_id_ticket` ON `_ticket_request`.`parent_incident_id` = `Incident_parent_incident_id_ticket`.`id`LEFT JOIN `ticket` AS `Problem_parent_problem_id_ticket` ON `_ticket_request`.`parent_problem_id` = `Problem_parent_problem_id_ticket`.`id`LEFT JOIN `ticket` AS `Change_parent_change_id_ticket` ON `_ticket_request`.`parent_change_id` = `Change_parent_change_id_ticket`.`id`) ON `_ticket`.`id` = `_ticket_request`.`id` WHERE ((((((((COALESCE((`Person_caller_id_contact`.`finalclass` IN (\'Person\')), 1) AND COALESCE((`Team_team_id_contact`.`finalclass` IN (\'Team\')), 1)) AND COALESCE((`Person_agent_id_contact`.`finalclass` IN (\'Person\')), 1)) AND COALESCE((`_ticket`.`finalclass` IN (\'UserRequest\')), 1)) AND COALESCE((`Person_approver_id_contact`.`finalclass` IN (\'Person\')), 1)) AND COALESCE((`UserRequest_parent_request_id_ticket`.`finalclass` IN (\'UserRequest\')), 1)) AND COALESCE((`Incident_parent_incident_id_ticket`.`finalclass` IN (\'Incident\')), 1)) AND COALESCE((`Problem_parent_problem_id_ticket`.`finalclass` IN (\'Problem\')), 1)) AND COALESCE((`Change_parent_change_id_ticket`.`finalclass` IN (\'RoutineChange\', \'ApprovedChange\', \'NormalChange\', \'EmergencyChange\', \'Change\')), 1))
client_cs_name=utf8mb4
connection_cl_name=utf8mb4_unicode_ci
view_body_utf8=select distinct `_ticket`.`id` AS `id`,`_ticket`.`operational_status` AS `operational_status`,`_ticket`.`ref` AS `ref`,`_ticket`.`org_id` AS `org_id`,`Organization_org_id_organization`.`name` AS `org_name`,`_ticket`.`caller_id` AS `caller_id`,`Person_caller_id_contact`.`name` AS `caller_name`,`_ticket`.`team_id` AS `team_id`,`Team_team_id_contact`.`email` AS `team_name`,`_ticket`.`agent_id` AS `agent_id`,`Person_agent_id_contact`.`name` AS `agent_name`,`_ticket`.`title` AS `title`,`_ticket`.`description` AS `description`,`_ticket`.`description_format` AS `description_format`,`_ticket`.`start_date` AS `start_date`,`_ticket`.`end_date` AS `end_date`,`_ticket`.`last_update` AS `last_update`,`_ticket`.`close_date` AS `close_date`,`_ticket`.`private_log` AS `private_log`,`_ticket`.`private_log_index` AS `private_log_index`,`_ticket_request`.`status` AS `status`,`_ticket_request`.`request_type` AS `request_type`,`_ticket_request`.`impact` AS `impact`,`_ticket_request`.`priority` AS `priority`,`_ticket_request`.`urgency` AS `urgency`,`_ticket_request`.`origin` AS `origin`,`_ticket_request`.`approver_id` AS `approver_id`,`Person_approver_id_contact`.`email` AS `approver_email`,`_ticket_request`.`service_id` AS `service_id`,`Service_service_id_service`.`name` AS `service_name`,`_ticket_request`.`servicesubcategory_id` AS `servicesubcategory_id`,`ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`name` AS `servicesubcategory_name`,`_ticket_request`.`escalation_flag` AS `escalation_flag`,`_ticket_request`.`escalation_reason` AS `escalation_reason`,`_ticket_request`.`assignment_date` AS `assignment_date`,`_ticket_request`.`resolution_date` AS `resolution_date`,`_ticket_request`.`last_pending_date` AS `last_pending_date`,`_ticket_request`.`cumulatedpending_timespent` AS `cumulatedpending`,`_ticket_request`.`cumulatedpending_started` AS `cumulatedpending_started`,`_ticket_request`.`cumulatedpending_laststart` AS `cumulatedpending_laststart`,`_ticket_request`.`cumulatedpending_stopped` AS `cumulatedpending_stopped`,`_ticket_request`.`tto_timespent` AS `tto`,`_ticket_request`.`tto_started` AS `tto_started`,`_ticket_request`.`tto_laststart` AS `tto_laststart`,`_ticket_request`.`tto_stopped` AS `tto_stopped`,`_ticket_request`.`tto_75_deadline` AS `tto_75_deadline`,`_ticket_request`.`tto_75_passed` AS `tto_75_passed`,`_ticket_request`.`tto_75_triggered` AS `tto_75_triggered`,`_ticket_request`.`tto_75_overrun` AS `tto_75_overrun`,`_ticket_request`.`tto_100_deadline` AS `tto_100_deadline`,`_ticket_request`.`tto_100_passed` AS `tto_100_passed`,`_ticket_request`.`tto_100_triggered` AS `tto_100_triggered`,`_ticket_request`.`tto_100_overrun` AS `tto_100_overrun`,`_ticket_request`.`ttr_timespent` AS `ttr`,`_ticket_request`.`ttr_started` AS `ttr_started`,`_ticket_request`.`ttr_laststart` AS `ttr_laststart`,`_ticket_request`.`ttr_stopped` AS `ttr_stopped`,`_ticket_request`.`ttr_75_deadline` AS `ttr_75_deadline`,`_ticket_request`.`ttr_75_passed` AS `ttr_75_passed`,`_ticket_request`.`ttr_75_triggered` AS `ttr_75_triggered`,`_ticket_request`.`ttr_75_overrun` AS `ttr_75_overrun`,`_ticket_request`.`ttr_100_deadline` AS `ttr_100_deadline`,`_ticket_request`.`ttr_100_passed` AS `ttr_100_passed`,`_ticket_request`.`ttr_100_triggered` AS `ttr_100_triggered`,`_ticket_request`.`ttr_100_overrun` AS `ttr_100_overrun`,`_ticket_request`.`tto_100_deadline` AS `tto_escalation_deadline`,`_ticket_request`.`tto_100_passed` AS `sla_tto_passed`,`_ticket_request`.`tto_100_overrun` AS `sla_tto_over`,`_ticket_request`.`ttr_100_deadline` AS `ttr_escalation_deadline`,`_ticket_request`.`ttr_100_passed` AS `sla_ttr_passed`,`_ticket_request`.`ttr_100_overrun` AS `sla_ttr_over`,`_ticket_request`.`time_spent` AS `time_spent`,`_ticket_request`.`resolution_code` AS `resolution_code`,`_ticket_request`.`solution` AS `solution`,`_ticket_request`.`pending_reason` AS `pending_reason`,`_ticket_request`.`parent_request_id` AS `parent_request_id`,`UserRequest_parent_request_id_ticket`.`ref` AS `parent_request_ref`,`_ticket_request`.`parent_incident_id` AS `parent_incident_id`,`Incident_parent_incident_id_ticket`.`ref` AS `parent_incident_ref`,`_ticket_request`.`parent_problem_id` AS `parent_problem_id`,`Problem_parent_problem_id_ticket`.`ref` AS `parent_problem_ref`,`_ticket_request`.`parent_change_id` AS `parent_change_id`,`Change_parent_change_id_ticket`.`ref` AS `parent_change_ref`,`_ticket_request`.`public_log` AS `public_log`,`_ticket_request`.`public_log_index` AS `public_log_index`,`_ticket_request`.`user_satisfaction` AS `user_satisfaction`,`_ticket_request`.`user_commment` AS `user_comment`,`_ticket`.`finalclass` AS `finalclass`,cast(concat(coalesce(`_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `friendlyname`,cast(concat(coalesce(`Organization_org_id_organization`.`name`,\'\')) as char charset utf8mb4) AS `org_id_friendlyname`,coalesce((`Organization_org_id_organization`.`status` = \'inactive\'),0) AS `org_id_obsolescence_flag`,cast(concat(coalesce(`Person_caller_id_person`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_caller_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `caller_id_friendlyname`,coalesce((`Person_caller_id_contact`.`status` = \'inactive\'),0) AS `caller_id_obsolescence_flag`,cast(concat(coalesce(`Team_team_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `team_id_friendlyname`,coalesce((`Team_team_id_contact`.`status` = \'inactive\'),0) AS `team_id_obsolescence_flag`,cast(concat(coalesce(`Person_agent_id_person`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_agent_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `agent_id_friendlyname`,coalesce((`Person_agent_id_contact`.`status` = \'inactive\'),0) AS `agent_id_obsolescence_flag`,cast(concat(coalesce(`Person_approver_id_person`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_approver_id_contact`.`name`,\'\')) as char charset utf8mb4) AS `approver_id_friendlyname`,coalesce((`Person_approver_id_contact`.`status` = \'inactive\'),0) AS `approver_id_obsolescence_flag`,cast(concat(coalesce(`Service_service_id_service`.`name`,\'\')) as char charset utf8mb4) AS `service_id_friendlyname`,cast(concat(coalesce(`ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`name`,\'\')) as char charset utf8mb4) AS `servicesubcategory_id_friendlyname`,cast(concat(coalesce(`UserRequest_parent_request_id_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_request_id_friendlyname`,cast(concat(coalesce(`Incident_parent_incident_id_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_incident_id_friendlyname`,cast(concat(coalesce(`Problem_parent_problem_id_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_problem_id_friendlyname`,cast(concat(coalesce(`Change_parent_change_id_ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_change_id_friendlyname`,`Change_parent_change_id_ticket`.`finalclass` AS `parent_change_id_finalclass_recall` from (((((`itop`.`ticket` `_ticket` join `itop`.`organization` `Organization_org_id_organization` on((`_ticket`.`org_id` = `Organization_org_id_organization`.`id`))) left join (`itop`.`contact` `Person_caller_id_contact` join `itop`.`person` `Person_caller_id_person` on((`Person_caller_id_contact`.`id` = `Person_caller_id_person`.`id`))) on((`_ticket`.`caller_id` = `Person_caller_id_contact`.`id`))) left join `itop`.`contact` `Team_team_id_contact` on((`_ticket`.`team_id` = `Team_team_id_contact`.`id`))) left join (`itop`.`contact` `Person_agent_id_contact` join `itop`.`person` `Person_agent_id_person` on((`Person_agent_id_contact`.`id` = `Person_agent_id_person`.`id`))) on((`_ticket`.`agent_id` = `Person_agent_id_contact`.`id`))) join (((((((`itop`.`ticket_request` `_ticket_request` left join (`itop`.`contact` `Person_approver_id_contact` join `itop`.`person` `Person_approver_id_person` on((`Person_approver_id_contact`.`id` = `Person_approver_id_person`.`id`))) on((`_ticket_request`.`approver_id` = `Person_approver_id_contact`.`id`))) left join `itop`.`service` `Service_service_id_service` on((`_ticket_request`.`service_id` = `Service_service_id_service`.`id`))) left join `itop`.`servicesubcategory` `ServiceSubcategory_servicesubcategory_id_servicesubcategory` on((`_ticket_request`.`servicesubcategory_id` = `ServiceSubcategory_servicesubcategory_id_servicesubcategory`.`id`))) left join `itop`.`ticket` `UserRequest_parent_request_id_ticket` on((`_ticket_request`.`parent_request_id` = `UserRequest_parent_request_id_ticket`.`id`))) left join `itop`.`ticket` `Incident_parent_incident_id_ticket` on((`_ticket_request`.`parent_incident_id` = `Incident_parent_incident_id_ticket`.`id`))) left join `itop`.`ticket` `Problem_parent_problem_id_ticket` on((`_ticket_request`.`parent_problem_id` = `Problem_parent_problem_id_ticket`.`id`))) left join `itop`.`ticket` `Change_parent_change_id_ticket` on((`_ticket_request`.`parent_change_id` = `Change_parent_change_id_ticket`.`id`))) on((`_ticket`.`id` = `_ticket_request`.`id`))) where (coalesce((`Person_caller_id_contact`.`finalclass` = \'Person\'),1) and coalesce((`Team_team_id_contact`.`finalclass` = \'Team\'),1) and coalesce((`Person_agent_id_contact`.`finalclass` = \'Person\'),1) and coalesce((`_ticket`.`finalclass` = \'UserRequest\'),1) and coalesce((`Person_approver_id_contact`.`finalclass` = \'Person\'),1) and coalesce((`UserRequest_parent_request_id_ticket`.`finalclass` = \'UserRequest\'),1) and coalesce((`Incident_parent_incident_id_ticket`.`finalclass` = \'Incident\'),1) and coalesce((`Problem_parent_problem_id_ticket`.`finalclass` = \'Problem\'),1) and coalesce((`Change_parent_change_id_ticket`.`finalclass` in (\'RoutineChange\',\'ApprovedChange\',\'NormalChange\',\'EmergencyChange\',\'Change\')),1))
