TYPE=VIEW
query=select distinct `UserRequest`.`id` AS `id`,`UserRequest_Ticket`.`operational_status` AS `operational_status`,`UserRequest_Ticket`.`ref` AS `ref`,`UserRequest_Ticket`.`org_id` AS `org_id`,`Organization_org_id`.`name` AS `org_name`,`UserRequest_Ticket`.`caller_id` AS `caller_id`,`Person_caller_id_Contact`.`name` AS `caller_name`,`UserRequest_Ticket`.`team_id` AS `team_id`,`Team_team_id_Contact`.`email` AS `team_name`,`UserRequest_Ticket`.`agent_id` AS `agent_id`,`Person_agent_id_Contact`.`name` AS `agent_name`,`UserRequest_Ticket`.`title` AS `title`,`UserRequest_Ticket`.`description` AS `description`,`UserRequest_Ticket`.`start_date` AS `start_date`,`UserRequest_Ticket`.`end_date` AS `end_date`,`UserRequest_Ticket`.`last_update` AS `last_update`,`UserRequest_Ticket`.`close_date` AS `close_date`,`UserRequest_Ticket`.`private_log` AS `private_log`,`UserRequest`.`status` AS `status`,`UserRequest`.`request_type` AS `request_type`,`UserRequest`.`impact` AS `impact`,`UserRequest`.`priority` AS `priority`,`UserRequest`.`urgency` AS `urgency`,`UserRequest`.`origin` AS `origin`,`UserRequest`.`approver_id` AS `approver_id`,`Person_approver_id_Contact`.`email` AS `approver_email`,`UserRequest`.`service_id` AS `service_id`,`Service_service_id`.`name` AS `service_name`,`UserRequest`.`servicesubcategory_id` AS `servicesubcategory_id`,`ServiceSubcategory_servicesubcategory_id`.`name` AS `servicesubcategory_name`,`UserRequest`.`escalation_flag` AS `escalation_flag`,`UserRequest`.`escalation_reason` AS `escalation_reason`,`UserRequest`.`assignment_date` AS `assignment_date`,`UserRequest`.`resolution_date` AS `resolution_date`,`UserRequest`.`last_pending_date` AS `last_pending_date`,`UserRequest`.`cumulatedpending_timespent` AS `cumulatedpending`,`UserRequest`.`tto_timespent` AS `tto`,`UserRequest`.`ttr_timespent` AS `ttr`,`UserRequest`.`tto_100_deadline` AS `tto_escalation_deadline`,`UserRequest`.`tto_100_passed` AS `sla_tto_passed`,`UserRequest`.`tto_100_overrun` AS `sla_tto_over`,`UserRequest`.`ttr_100_deadline` AS `ttr_escalation_deadline`,`UserRequest`.`ttr_100_passed` AS `sla_ttr_passed`,`UserRequest`.`ttr_100_overrun` AS `sla_ttr_over`,`UserRequest`.`time_spent` AS `time_spent`,`UserRequest`.`resolution_code` AS `resolution_code`,`UserRequest`.`solution` AS `solution`,`UserRequest`.`pending_reason` AS `pending_reason`,`UserRequest`.`parent_request_id` AS `parent_request_id`,`UserRequest_parent_request_id_Ticket`.`ref` AS `parent_request_ref`,`UserRequest`.`parent_incident_id` AS `parent_incident_id`,`Incident_parent_incident_id_Ticket`.`ref` AS `parent_incident_ref`,`UserRequest`.`parent_problem_id` AS `parent_problem_id`,`Problem_parent_problem_id_Ticket`.`ref` AS `parent_problem_ref`,`UserRequest`.`parent_change_id` AS `parent_change_id`,`Change_parent_change_id_Ticket`.`ref` AS `parent_change_ref`,`UserRequest`.`public_log` AS `public_log`,`UserRequest`.`user_satisfaction` AS `user_satisfaction`,`UserRequest`.`user_commment` AS `user_comment`,`UserRequest_Ticket`.`finalclass` AS `finalclass`,cast(concat(coalesce(`UserRequest_Ticket`.`ref`,\'\')) as char charset utf8mb4) AS `friendlyname`,cast(concat(coalesce(`Organization_org_id`.`name`,\'\')) as char charset utf8mb4) AS `org_id_friendlyname`,coalesce((`Organization_org_id`.`status` = \'inactive\'),0) AS `org_id_obsolescence_flag`,cast(concat(coalesce(`Person_caller_id`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_caller_id_Contact`.`name`,\'\')) as char charset utf8mb4) AS `caller_id_friendlyname`,coalesce((`Person_caller_id_Contact`.`status` = \'inactive\'),0) AS `caller_id_obsolescence_flag`,cast(concat(coalesce(`Team_team_id_Contact`.`name`,\'\')) as char charset utf8mb4) AS `team_id_friendlyname`,coalesce((`Team_team_id_Contact`.`status` = \'inactive\'),0) AS `team_id_obsolescence_flag`,cast(concat(coalesce(`Person_agent_id`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_agent_id_Contact`.`name`,\'\')) as char charset utf8mb4) AS `agent_id_friendlyname`,coalesce((`Person_agent_id_Contact`.`status` = \'inactive\'),0) AS `agent_id_obsolescence_flag`,cast(concat(coalesce(`Person_approver_id`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_approver_id_Contact`.`name`,\'\')) as char charset utf8mb4) AS `approver_id_friendlyname`,coalesce((`Person_approver_id_Contact`.`status` = \'inactive\'),0) AS `approver_id_obsolescence_flag`,cast(concat(coalesce(`Service_service_id`.`name`,\'\')) as char charset utf8mb4) AS `service_id_friendlyname`,cast(concat(coalesce(`ServiceSubcategory_servicesubcategory_id`.`name`,\'\')) as char charset utf8mb4) AS `servicesubcategory_id_friendlyname`,cast(concat(coalesce(`UserRequest_parent_request_id_Ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_request_id_friendlyname`,cast(concat(coalesce(`Incident_parent_incident_id_Ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_incident_id_friendlyname`,cast(concat(coalesce(`Problem_parent_problem_id_Ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_problem_id_friendlyname`,cast(concat(coalesce(`Change_parent_change_id_Ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_change_id_friendlyname`,`Change_parent_change_id_Ticket`.`finalclass` AS `parent_change_id_finalclass_recall`,`UserRequest`.`cumulatedpending_started` AS `UserRequestcumulatedpending_started`,`UserRequest`.`cumulatedpending_laststart` AS `UserRequestcumulatedpending_laststart`,`UserRequest`.`cumulatedpending_stopped` AS `UserRequestcumulatedpending_stopped`,`UserRequest`.`tto_started` AS `UserRequesttto_started`,`UserRequest`.`tto_laststart` AS `UserRequesttto_laststart`,`UserRequest`.`tto_stopped` AS `UserRequesttto_stopped`,`UserRequest`.`tto_75_deadline` AS `UserRequesttto_75_deadline`,`UserRequest`.`tto_75_passed` AS `UserRequesttto_75_passed`,`UserRequest`.`tto_75_triggered` AS `UserRequesttto_75_triggered`,`UserRequest`.`tto_75_overrun` AS `UserRequesttto_75_overrun`,`UserRequest`.`tto_100_deadline` AS `UserRequesttto_100_deadline`,`UserRequest`.`tto_100_passed` AS `UserRequesttto_100_passed`,`UserRequest`.`tto_100_triggered` AS `UserRequesttto_100_triggered`,`UserRequest`.`tto_100_overrun` AS `UserRequesttto_100_overrun`,`UserRequest`.`ttr_started` AS `UserRequestttr_started`,`UserRequest`.`ttr_laststart` AS `UserRequestttr_laststart`,`UserRequest`.`ttr_stopped` AS `UserRequestttr_stopped`,`UserRequest`.`ttr_75_deadline` AS `UserRequestttr_75_deadline`,`UserRequest`.`ttr_75_passed` AS `UserRequestttr_75_passed`,`UserRequest`.`ttr_75_triggered` AS `UserRequestttr_75_triggered`,`UserRequest`.`ttr_75_overrun` AS `UserRequestttr_75_overrun`,`UserRequest`.`ttr_100_deadline` AS `UserRequestttr_100_deadline`,`UserRequest`.`ttr_100_passed` AS `UserRequestttr_100_passed`,`UserRequest`.`ttr_100_triggered` AS `UserRequestttr_100_triggered`,`UserRequest`.`ttr_100_overrun` AS `UserRequestttr_100_overrun`,`UserRequest`.`public_log_index` AS `UserRequestpublic_log_index`,`UserRequest_Ticket`.`description_format` AS `UserRequestdescription_format`,`UserRequest_Ticket`.`private_log_index` AS `UserRequestprivate_log_index` from ((((((((`itop27`.`ticket_request` `UserRequest` left join (`itop27`.`person` `Person_approver_id` join `itop27`.`contact` `Person_approver_id_Contact` on((`Person_approver_id`.`id` = `Person_approver_id_Contact`.`id`))) on((`UserRequest`.`approver_id` = `Person_approver_id`.`id`))) left join `itop27`.`service` `Service_service_id` on((`UserRequest`.`service_id` = `Service_service_id`.`id`))) left join `itop27`.`servicesubcategory` `ServiceSubcategory_servicesubcategory_id` on((`UserRequest`.`servicesubcategory_id` = `ServiceSubcategory_servicesubcategory_id`.`id`))) left join `itop27`.`ticket` `UserRequest_parent_request_id_Ticket` on((`UserRequest`.`parent_request_id` = `UserRequest_parent_request_id_Ticket`.`id`))) left join `itop27`.`ticket` `Incident_parent_incident_id_Ticket` on((`UserRequest`.`parent_incident_id` = `Incident_parent_incident_id_Ticket`.`id`))) left join `itop27`.`ticket` `Problem_parent_problem_id_Ticket` on((`UserRequest`.`parent_problem_id` = `Problem_parent_problem_id_Ticket`.`id`))) left join `itop27`.`ticket` `Change_parent_change_id_Ticket` on((`UserRequest`.`parent_change_id` = `Change_parent_change_id_Ticket`.`id`))) join ((((`itop27`.`ticket` `UserRequest_Ticket` join `itop27`.`organization` `Organization_org_id` on((`UserRequest_Ticket`.`org_id` = `Organization_org_id`.`id`))) left join (`itop27`.`person` `Person_caller_id` join `itop27`.`contact` `Person_caller_id_Contact` on((`Person_caller_id`.`id` = `Person_caller_id_Contact`.`id`))) on((`UserRequest_Ticket`.`caller_id` = `Person_caller_id`.`id`))) left join `itop27`.`contact` `Team_team_id_Contact` on((`UserRequest_Ticket`.`team_id` = `Team_team_id_Contact`.`id`))) left join (`itop27`.`person` `Person_agent_id` join `itop27`.`contact` `Person_agent_id_Contact` on((`Person_agent_id`.`id` = `Person_agent_id_Contact`.`id`))) on((`UserRequest_Ticket`.`agent_id` = `Person_agent_id`.`id`))) on((`UserRequest`.`id` = `UserRequest_Ticket`.`id`))) where (coalesce((`Team_team_id_Contact`.`finalclass` = \'Team\'),1) and coalesce((`UserRequest_parent_request_id_Ticket`.`finalclass` = \'UserRequest\'),1) and coalesce((`Incident_parent_incident_id_Ticket`.`finalclass` = \'Incident\'),1) and coalesce((`Problem_parent_problem_id_Ticket`.`finalclass` = \'Problem\'),1) and coalesce((`Change_parent_change_id_Ticket`.`finalclass` in (\'RoutineChange\',\'ApprovedChange\',\'NormalChange\',\'EmergencyChange\',\'Change\')),1))
md5=5015e4b8140609484fff0a705d3506d6
updatable=0
algorithm=0
definer_user=root
definer_host=%
suid=2
with_check_option=0
timestamp=2020-05-02 08:14:55
create-version=1
source=SELECT\n DISTINCT `UserRequest`.`id` AS `id`,\n `UserRequest_Ticket`.`operational_status` AS `operational_status`,\n `UserRequest_Ticket`.`ref` AS `ref`,\n `UserRequest_Ticket`.`org_id` AS `org_id`,\n `Organization_org_id`.`name` AS `org_name`,\n `UserRequest_Ticket`.`caller_id` AS `caller_id`,\n `Person_caller_id_Contact`.`name` AS `caller_name`,\n `UserRequest_Ticket`.`team_id` AS `team_id`,\n `Team_team_id_Contact`.`email` AS `team_name`,\n `UserRequest_Ticket`.`agent_id` AS `agent_id`,\n `Person_agent_id_Contact`.`name` AS `agent_name`,\n `UserRequest_Ticket`.`title` AS `title`,\n `UserRequest_Ticket`.`description` AS `description`,\n `UserRequest_Ticket`.`start_date` AS `start_date`,\n `UserRequest_Ticket`.`end_date` AS `end_date`,\n `UserRequest_Ticket`.`last_update` AS `last_update`,\n `UserRequest_Ticket`.`close_date` AS `close_date`,\n `UserRequest_Ticket`.`private_log` AS `private_log`,\n `UserRequest`.`status` AS `status`,\n `UserRequest`.`request_type` AS `request_type`,\n `UserRequest`.`impact` AS `impact`,\n `UserRequest`.`priority` AS `priority`,\n `UserRequest`.`urgency` AS `urgency`,\n `UserRequest`.`origin` AS `origin`,\n `UserRequest`.`approver_id` AS `approver_id`,\n `Person_approver_id_Contact`.`email` AS `approver_email`,\n `UserRequest`.`service_id` AS `service_id`,\n `Service_service_id`.`name` AS `service_name`,\n `UserRequest`.`servicesubcategory_id` AS `servicesubcategory_id`,\n `ServiceSubcategory_servicesubcategory_id`.`name` AS `servicesubcategory_name`,\n `UserRequest`.`escalation_flag` AS `escalation_flag`,\n `UserRequest`.`escalation_reason` AS `escalation_reason`,\n `UserRequest`.`assignment_date` AS `assignment_date`,\n `UserRequest`.`resolution_date` AS `resolution_date`,\n `UserRequest`.`last_pending_date` AS `last_pending_date`,\n `UserRequest`.`cumulatedpending_timespent` AS `cumulatedpending`,\n `UserRequest`.`tto_timespent` AS `tto`,\n `UserRequest`.`ttr_timespent` AS `ttr`,\n `UserRequest`.`tto_100_deadline` AS `tto_escalation_deadline`,\n `UserRequest`.`tto_100_passed` AS `sla_tto_passed`,\n `UserRequest`.`tto_100_overrun` AS `sla_tto_over`,\n `UserRequest`.`ttr_100_deadline` AS `ttr_escalation_deadline`,\n `UserRequest`.`ttr_100_passed` AS `sla_ttr_passed`,\n `UserRequest`.`ttr_100_overrun` AS `sla_ttr_over`,\n `UserRequest`.`time_spent` AS `time_spent`,\n `UserRequest`.`resolution_code` AS `resolution_code`,\n `UserRequest`.`solution` AS `solution`,\n `UserRequest`.`pending_reason` AS `pending_reason`,\n `UserRequest`.`parent_request_id` AS `parent_request_id`,\n `UserRequest_parent_request_id_Ticket`.`ref` AS `parent_request_ref`,\n `UserRequest`.`parent_incident_id` AS `parent_incident_id`,\n `Incident_parent_incident_id_Ticket`.`ref` AS `parent_incident_ref`,\n `UserRequest`.`parent_problem_id` AS `parent_problem_id`,\n `Problem_parent_problem_id_Ticket`.`ref` AS `parent_problem_ref`,\n `UserRequest`.`parent_change_id` AS `parent_change_id`,\n `Change_parent_change_id_Ticket`.`ref` AS `parent_change_ref`,\n `UserRequest`.`public_log` AS `public_log`,\n `UserRequest`.`user_satisfaction` AS `user_satisfaction`,\n `UserRequest`.`user_commment` AS `user_comment`,\n `UserRequest_Ticket`.`finalclass` AS `finalclass`,\n CAST(CONCAT(COALESCE(`UserRequest_Ticket`.`ref`, \'\')) AS CHAR) AS `friendlyname`,\n CAST(CONCAT(COALESCE(`Organization_org_id`.`name`, \'\')) AS CHAR) AS `org_id_friendlyname`,\n COALESCE((`Organization_org_id`.`status` = \'inactive\'), 0) AS `org_id_obsolescence_flag`,\n CAST(CONCAT(COALESCE(`Person_caller_id`.`first_name`, \'\'), COALESCE(\' \', \'\'), COALESCE(`Person_caller_id_Contact`.`name`, \'\')) AS CHAR) AS `caller_id_friendlyname`,\n COALESCE((`Person_caller_id_Contact`.`status` = \'inactive\'), 0) AS `caller_id_obsolescence_flag`,\n CAST(CONCAT(COALESCE(`Team_team_id_Contact`.`name`, \'\')) AS CHAR) AS `team_id_friendlyname`,\n COALESCE((`Team_team_id_Contact`.`status` = \'inactive\'), 0) AS `team_id_obsolescence_flag`,\n CAST(CONCAT(COALESCE(`Person_agent_id`.`first_name`, \'\'), COALESCE(\' \', \'\'), COALESCE(`Person_agent_id_Contact`.`name`, \'\')) AS CHAR) AS `agent_id_friendlyname`,\n COALESCE((`Person_agent_id_Contact`.`status` = \'inactive\'), 0) AS `agent_id_obsolescence_flag`,\n CAST(CONCAT(COALESCE(`Person_approver_id`.`first_name`, \'\'), COALESCE(\' \', \'\'), COALESCE(`Person_approver_id_Contact`.`name`, \'\')) AS CHAR) AS `approver_id_friendlyname`,\n COALESCE((`Person_approver_id_Contact`.`status` = \'inactive\'), 0) AS `approver_id_obsolescence_flag`,\n CAST(CONCAT(COALESCE(`Service_service_id`.`name`, \'\')) AS CHAR) AS `service_id_friendlyname`,\n CAST(CONCAT(COALESCE(`ServiceSubcategory_servicesubcategory_id`.`name`, \'\')) AS CHAR) AS `servicesubcategory_id_friendlyname`,\n CAST(CONCAT(COALESCE(`UserRequest_parent_request_id_Ticket`.`ref`, \'\')) AS CHAR) AS `parent_request_id_friendlyname`,\n CAST(CONCAT(COALESCE(`Incident_parent_incident_id_Ticket`.`ref`, \'\')) AS CHAR) AS `parent_incident_id_friendlyname`,\n CAST(CONCAT(COALESCE(`Problem_parent_problem_id_Ticket`.`ref`, \'\')) AS CHAR) AS `parent_problem_id_friendlyname`,\n CAST(CONCAT(COALESCE(`Change_parent_change_id_Ticket`.`ref`, \'\')) AS CHAR) AS `parent_change_id_friendlyname`,\n `Change_parent_change_id_Ticket`.`finalclass` AS `parent_change_id_finalclass_recall`,\n `UserRequest`.`cumulatedpending_started` AS `UserRequestcumulatedpending_started`,\n `UserRequest`.`cumulatedpending_laststart` AS `UserRequestcumulatedpending_laststart`,\n `UserRequest`.`cumulatedpending_stopped` AS `UserRequestcumulatedpending_stopped`,\n `UserRequest`.`tto_started` AS `UserRequesttto_started`,\n `UserRequest`.`tto_laststart` AS `UserRequesttto_laststart`,\n `UserRequest`.`tto_stopped` AS `UserRequesttto_stopped`,\n `UserRequest`.`tto_75_deadline` AS `UserRequesttto_75_deadline`,\n `UserRequest`.`tto_75_passed` AS `UserRequesttto_75_passed`,\n `UserRequest`.`tto_75_triggered` AS `UserRequesttto_75_triggered`,\n `UserRequest`.`tto_75_overrun` AS `UserRequesttto_75_overrun`,\n `UserRequest`.`tto_100_deadline` AS `UserRequesttto_100_deadline`,\n `UserRequest`.`tto_100_passed` AS `UserRequesttto_100_passed`,\n `UserRequest`.`tto_100_triggered` AS `UserRequesttto_100_triggered`,\n `UserRequest`.`tto_100_overrun` AS `UserRequesttto_100_overrun`,\n `UserRequest`.`ttr_started` AS `UserRequestttr_started`,\n `UserRequest`.`ttr_laststart` AS `UserRequestttr_laststart`,\n `UserRequest`.`ttr_stopped` AS `UserRequestttr_stopped`,\n `UserRequest`.`ttr_75_deadline` AS `UserRequestttr_75_deadline`,\n `UserRequest`.`ttr_75_passed` AS `UserRequestttr_75_passed`,\n `UserRequest`.`ttr_75_triggered` AS `UserRequestttr_75_triggered`,\n `UserRequest`.`ttr_75_overrun` AS `UserRequestttr_75_overrun`,\n `UserRequest`.`ttr_100_deadline` AS `UserRequestttr_100_deadline`,\n `UserRequest`.`ttr_100_passed` AS `UserRequestttr_100_passed`,\n `UserRequest`.`ttr_100_triggered` AS `UserRequestttr_100_triggered`,\n `UserRequest`.`ttr_100_overrun` AS `UserRequestttr_100_overrun`,\n `UserRequest`.`public_log_index` AS `UserRequestpublic_log_index`,\n `UserRequest_Ticket`.`description_format` AS `UserRequestdescription_format`,\n `UserRequest_Ticket`.`private_log_index` AS `UserRequestprivate_log_index`\n FROM \n   `ticket_request` AS `UserRequest`\n   LEFT JOIN (\n      `person` AS `Person_approver_id` \n      INNER JOIN \n         `contact` AS `Person_approver_id_Contact`\n       ON `Person_approver_id`.`id` = `Person_approver_id_Contact`.`id`\n   ) ON `UserRequest`.`approver_id` = `Person_approver_id`.`id`\n   LEFT JOIN \n      `service` AS `Service_service_id`\n    ON `UserRequest`.`service_id` = `Service_service_id`.`id`\n   LEFT JOIN \n      `servicesubcategory` AS `ServiceSubcategory_servicesubcategory_id`\n    ON `UserRequest`.`servicesubcategory_id` = `ServiceSubcategory_servicesubcategory_id`.`id`\n   LEFT JOIN \n      `ticket` AS `UserRequest_parent_request_id_Ticket`\n    ON `UserRequest`.`parent_request_id` = `UserRequest_parent_request_id_Ticket`.`id`\n   LEFT JOIN \n      `ticket` AS `Incident_parent_incident_id_Ticket`\n    ON `UserRequest`.`parent_incident_id` = `Incident_parent_incident_id_Ticket`.`id`\n   LEFT JOIN \n      `ticket` AS `Problem_parent_problem_id_Ticket`\n    ON `UserRequest`.`parent_problem_id` = `Problem_parent_problem_id_Ticket`.`id`\n   LEFT JOIN \n      `ticket` AS `Change_parent_change_id_Ticket`\n    ON `UserRequest`.`parent_change_id` = `Change_parent_change_id_Ticket`.`id`\n   INNER JOIN (\n      `ticket` AS `UserRequest_Ticket` \n      INNER JOIN \n         `organization` AS `Organization_org_id`\n       ON `UserRequest_Ticket`.`org_id` = `Organization_org_id`.`id`\n      LEFT JOIN (\n         `person` AS `Person_caller_id` \n         INNER JOIN \n            `contact` AS `Person_caller_id_Contact`\n          ON `Person_caller_id`.`id` = `Person_caller_id_Contact`.`id`\n      ) ON `UserRequest_Ticket`.`caller_id` = `Person_caller_id`.`id`\n      LEFT JOIN \n         `contact` AS `Team_team_id_Contact`\n       ON `UserRequest_Ticket`.`team_id` = `Team_team_id_Contact`.`id`\n      LEFT JOIN (\n         `person` AS `Person_agent_id` \n         INNER JOIN \n            `contact` AS `Person_agent_id_Contact`\n          ON `Person_agent_id`.`id` = `Person_agent_id_Contact`.`id`\n      ) ON `UserRequest_Ticket`.`agent_id` = `Person_agent_id`.`id`\n   ) ON `UserRequest`.`id` = `UserRequest_Ticket`.`id`\n WHERE ((((COALESCE((`Team_team_id_Contact`.`finalclass` IN (\'Team\')), 1) AND COALESCE((`UserRequest_parent_request_id_Ticket`.`finalclass` IN (\'UserRequest\')), 1)) AND COALESCE((`Incident_parent_incident_id_Ticket`.`finalclass` IN (\'Incident\')), 1)) AND COALESCE((`Problem_parent_problem_id_Ticket`.`finalclass` IN (\'Problem\')), 1)) AND COALESCE((`Change_parent_change_id_Ticket`.`finalclass` IN (\'RoutineChange\', \'ApprovedChange\', \'NormalChange\', \'EmergencyChange\', \'Change\')), 1))
client_cs_name=utf8mb4
connection_cl_name=utf8mb4_unicode_ci
view_body_utf8=select distinct `UserRequest`.`id` AS `id`,`UserRequest_Ticket`.`operational_status` AS `operational_status`,`UserRequest_Ticket`.`ref` AS `ref`,`UserRequest_Ticket`.`org_id` AS `org_id`,`Organization_org_id`.`name` AS `org_name`,`UserRequest_Ticket`.`caller_id` AS `caller_id`,`Person_caller_id_Contact`.`name` AS `caller_name`,`UserRequest_Ticket`.`team_id` AS `team_id`,`Team_team_id_Contact`.`email` AS `team_name`,`UserRequest_Ticket`.`agent_id` AS `agent_id`,`Person_agent_id_Contact`.`name` AS `agent_name`,`UserRequest_Ticket`.`title` AS `title`,`UserRequest_Ticket`.`description` AS `description`,`UserRequest_Ticket`.`start_date` AS `start_date`,`UserRequest_Ticket`.`end_date` AS `end_date`,`UserRequest_Ticket`.`last_update` AS `last_update`,`UserRequest_Ticket`.`close_date` AS `close_date`,`UserRequest_Ticket`.`private_log` AS `private_log`,`UserRequest`.`status` AS `status`,`UserRequest`.`request_type` AS `request_type`,`UserRequest`.`impact` AS `impact`,`UserRequest`.`priority` AS `priority`,`UserRequest`.`urgency` AS `urgency`,`UserRequest`.`origin` AS `origin`,`UserRequest`.`approver_id` AS `approver_id`,`Person_approver_id_Contact`.`email` AS `approver_email`,`UserRequest`.`service_id` AS `service_id`,`Service_service_id`.`name` AS `service_name`,`UserRequest`.`servicesubcategory_id` AS `servicesubcategory_id`,`ServiceSubcategory_servicesubcategory_id`.`name` AS `servicesubcategory_name`,`UserRequest`.`escalation_flag` AS `escalation_flag`,`UserRequest`.`escalation_reason` AS `escalation_reason`,`UserRequest`.`assignment_date` AS `assignment_date`,`UserRequest`.`resolution_date` AS `resolution_date`,`UserRequest`.`last_pending_date` AS `last_pending_date`,`UserRequest`.`cumulatedpending_timespent` AS `cumulatedpending`,`UserRequest`.`tto_timespent` AS `tto`,`UserRequest`.`ttr_timespent` AS `ttr`,`UserRequest`.`tto_100_deadline` AS `tto_escalation_deadline`,`UserRequest`.`tto_100_passed` AS `sla_tto_passed`,`UserRequest`.`tto_100_overrun` AS `sla_tto_over`,`UserRequest`.`ttr_100_deadline` AS `ttr_escalation_deadline`,`UserRequest`.`ttr_100_passed` AS `sla_ttr_passed`,`UserRequest`.`ttr_100_overrun` AS `sla_ttr_over`,`UserRequest`.`time_spent` AS `time_spent`,`UserRequest`.`resolution_code` AS `resolution_code`,`UserRequest`.`solution` AS `solution`,`UserRequest`.`pending_reason` AS `pending_reason`,`UserRequest`.`parent_request_id` AS `parent_request_id`,`UserRequest_parent_request_id_Ticket`.`ref` AS `parent_request_ref`,`UserRequest`.`parent_incident_id` AS `parent_incident_id`,`Incident_parent_incident_id_Ticket`.`ref` AS `parent_incident_ref`,`UserRequest`.`parent_problem_id` AS `parent_problem_id`,`Problem_parent_problem_id_Ticket`.`ref` AS `parent_problem_ref`,`UserRequest`.`parent_change_id` AS `parent_change_id`,`Change_parent_change_id_Ticket`.`ref` AS `parent_change_ref`,`UserRequest`.`public_log` AS `public_log`,`UserRequest`.`user_satisfaction` AS `user_satisfaction`,`UserRequest`.`user_commment` AS `user_comment`,`UserRequest_Ticket`.`finalclass` AS `finalclass`,cast(concat(coalesce(`UserRequest_Ticket`.`ref`,\'\')) as char charset utf8mb4) AS `friendlyname`,cast(concat(coalesce(`Organization_org_id`.`name`,\'\')) as char charset utf8mb4) AS `org_id_friendlyname`,coalesce((`Organization_org_id`.`status` = \'inactive\'),0) AS `org_id_obsolescence_flag`,cast(concat(coalesce(`Person_caller_id`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_caller_id_Contact`.`name`,\'\')) as char charset utf8mb4) AS `caller_id_friendlyname`,coalesce((`Person_caller_id_Contact`.`status` = \'inactive\'),0) AS `caller_id_obsolescence_flag`,cast(concat(coalesce(`Team_team_id_Contact`.`name`,\'\')) as char charset utf8mb4) AS `team_id_friendlyname`,coalesce((`Team_team_id_Contact`.`status` = \'inactive\'),0) AS `team_id_obsolescence_flag`,cast(concat(coalesce(`Person_agent_id`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_agent_id_Contact`.`name`,\'\')) as char charset utf8mb4) AS `agent_id_friendlyname`,coalesce((`Person_agent_id_Contact`.`status` = \'inactive\'),0) AS `agent_id_obsolescence_flag`,cast(concat(coalesce(`Person_approver_id`.`first_name`,\'\'),coalesce(\' \',\'\'),coalesce(`Person_approver_id_Contact`.`name`,\'\')) as char charset utf8mb4) AS `approver_id_friendlyname`,coalesce((`Person_approver_id_Contact`.`status` = \'inactive\'),0) AS `approver_id_obsolescence_flag`,cast(concat(coalesce(`Service_service_id`.`name`,\'\')) as char charset utf8mb4) AS `service_id_friendlyname`,cast(concat(coalesce(`ServiceSubcategory_servicesubcategory_id`.`name`,\'\')) as char charset utf8mb4) AS `servicesubcategory_id_friendlyname`,cast(concat(coalesce(`UserRequest_parent_request_id_Ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_request_id_friendlyname`,cast(concat(coalesce(`Incident_parent_incident_id_Ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_incident_id_friendlyname`,cast(concat(coalesce(`Problem_parent_problem_id_Ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_problem_id_friendlyname`,cast(concat(coalesce(`Change_parent_change_id_Ticket`.`ref`,\'\')) as char charset utf8mb4) AS `parent_change_id_friendlyname`,`Change_parent_change_id_Ticket`.`finalclass` AS `parent_change_id_finalclass_recall`,`UserRequest`.`cumulatedpending_started` AS `UserRequestcumulatedpending_started`,`UserRequest`.`cumulatedpending_laststart` AS `UserRequestcumulatedpending_laststart`,`UserRequest`.`cumulatedpending_stopped` AS `UserRequestcumulatedpending_stopped`,`UserRequest`.`tto_started` AS `UserRequesttto_started`,`UserRequest`.`tto_laststart` AS `UserRequesttto_laststart`,`UserRequest`.`tto_stopped` AS `UserRequesttto_stopped`,`UserRequest`.`tto_75_deadline` AS `UserRequesttto_75_deadline`,`UserRequest`.`tto_75_passed` AS `UserRequesttto_75_passed`,`UserRequest`.`tto_75_triggered` AS `UserRequesttto_75_triggered`,`UserRequest`.`tto_75_overrun` AS `UserRequesttto_75_overrun`,`UserRequest`.`tto_100_deadline` AS `UserRequesttto_100_deadline`,`UserRequest`.`tto_100_passed` AS `UserRequesttto_100_passed`,`UserRequest`.`tto_100_triggered` AS `UserRequesttto_100_triggered`,`UserRequest`.`tto_100_overrun` AS `UserRequesttto_100_overrun`,`UserRequest`.`ttr_started` AS `UserRequestttr_started`,`UserRequest`.`ttr_laststart` AS `UserRequestttr_laststart`,`UserRequest`.`ttr_stopped` AS `UserRequestttr_stopped`,`UserRequest`.`ttr_75_deadline` AS `UserRequestttr_75_deadline`,`UserRequest`.`ttr_75_passed` AS `UserRequestttr_75_passed`,`UserRequest`.`ttr_75_triggered` AS `UserRequestttr_75_triggered`,`UserRequest`.`ttr_75_overrun` AS `UserRequestttr_75_overrun`,`UserRequest`.`ttr_100_deadline` AS `UserRequestttr_100_deadline`,`UserRequest`.`ttr_100_passed` AS `UserRequestttr_100_passed`,`UserRequest`.`ttr_100_triggered` AS `UserRequestttr_100_triggered`,`UserRequest`.`ttr_100_overrun` AS `UserRequestttr_100_overrun`,`UserRequest`.`public_log_index` AS `UserRequestpublic_log_index`,`UserRequest_Ticket`.`description_format` AS `UserRequestdescription_format`,`UserRequest_Ticket`.`private_log_index` AS `UserRequestprivate_log_index` from ((((((((`itop27`.`ticket_request` `UserRequest` left join (`itop27`.`person` `Person_approver_id` join `itop27`.`contact` `Person_approver_id_Contact` on((`Person_approver_id`.`id` = `Person_approver_id_Contact`.`id`))) on((`UserRequest`.`approver_id` = `Person_approver_id`.`id`))) left join `itop27`.`service` `Service_service_id` on((`UserRequest`.`service_id` = `Service_service_id`.`id`))) left join `itop27`.`servicesubcategory` `ServiceSubcategory_servicesubcategory_id` on((`UserRequest`.`servicesubcategory_id` = `ServiceSubcategory_servicesubcategory_id`.`id`))) left join `itop27`.`ticket` `UserRequest_parent_request_id_Ticket` on((`UserRequest`.`parent_request_id` = `UserRequest_parent_request_id_Ticket`.`id`))) left join `itop27`.`ticket` `Incident_parent_incident_id_Ticket` on((`UserRequest`.`parent_incident_id` = `Incident_parent_incident_id_Ticket`.`id`))) left join `itop27`.`ticket` `Problem_parent_problem_id_Ticket` on((`UserRequest`.`parent_problem_id` = `Problem_parent_problem_id_Ticket`.`id`))) left join `itop27`.`ticket` `Change_parent_change_id_Ticket` on((`UserRequest`.`parent_change_id` = `Change_parent_change_id_Ticket`.`id`))) join ((((`itop27`.`ticket` `UserRequest_Ticket` join `itop27`.`organization` `Organization_org_id` on((`UserRequest_Ticket`.`org_id` = `Organization_org_id`.`id`))) left join (`itop27`.`person` `Person_caller_id` join `itop27`.`contact` `Person_caller_id_Contact` on((`Person_caller_id`.`id` = `Person_caller_id_Contact`.`id`))) on((`UserRequest_Ticket`.`caller_id` = `Person_caller_id`.`id`))) left join `itop27`.`contact` `Team_team_id_Contact` on((`UserRequest_Ticket`.`team_id` = `Team_team_id_Contact`.`id`))) left join (`itop27`.`person` `Person_agent_id` join `itop27`.`contact` `Person_agent_id_Contact` on((`Person_agent_id`.`id` = `Person_agent_id_Contact`.`id`))) on((`UserRequest_Ticket`.`agent_id` = `Person_agent_id`.`id`))) on((`UserRequest`.`id` = `UserRequest_Ticket`.`id`))) where (coalesce((`Team_team_id_Contact`.`finalclass` = \'Team\'),1) and coalesce((`UserRequest_parent_request_id_Ticket`.`finalclass` = \'UserRequest\'),1) and coalesce((`Incident_parent_incident_id_Ticket`.`finalclass` = \'Incident\'),1) and coalesce((`Problem_parent_problem_id_Ticket`.`finalclass` = \'Problem\'),1) and coalesce((`Change_parent_change_id_Ticket`.`finalclass` in (\'RoutineChange\',\'ApprovedChange\',\'NormalChange\',\'EmergencyChange\',\'Change\')),1))
